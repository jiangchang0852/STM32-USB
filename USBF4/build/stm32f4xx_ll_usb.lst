ARM GAS  /tmp/ccgxsq1r.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.file	"stm32f4xx_ll_usb.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.section	.text.USB_CoreReset,"ax",%progbits
  21              		.align	2
  22              		.thumb
  23              		.thumb_func
  25              	USB_CoreReset:
  26              	.LFB155:
  27              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *    
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following 
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions 
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * <h2><center>&copy; COPYRIGHT(c) 2017 STMicroelectronics</center></h2>
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Redistribution and use in source and binary forms, with or without modification,
ARM GAS  /tmp/ccgxsq1r.s 			page 2


  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * are permitted provided that the following conditions are met:
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      this list of conditions and the following disclaimer.
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      this list of conditions and the following disclaimer in the documentation
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      and/or other materials provided with the distribution.
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      may be used to endorse or promote products derived from this software
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      without specific prior written permission.
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */ 
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(HAL_PCD_MODULE_ENABLED) || defined(HAL_HCD_MODULE_ENABLED)
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx) ||
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F411xE) || defined(STM32F446xx) ||
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) || defined(STM32F412Vx) ||
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup LL_USB_Exported_Functions USB Low Layer Exported Functions
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup LL_USB_Group1 Initialization/de-initialization functions 
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *  @brief    Initialization and Configuration functions 
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim    
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****               ##### Initialization/de-initialization functions #####
ARM GAS  /tmp/ccgxsq1r.s 			page 3


  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]  This section provides functions allowing to:
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg  pointer to a USB_OTG_CfgTypeDef structure that contains
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.use_external_vbus == 1U)
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select  */
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_CoreReset(USBx); 
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select and set Host mode */
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_CoreReset(USBx);
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate the power down*/
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG = USB_OTG_GCCFG_PWRDWN;
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.dma_enable == ENABLE)
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }  
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
ARM GAS  /tmp/ccgxsq1r.s 			page 4


 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode   current core mode
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_DEVICE_MODE: Peripheral mode
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_HOST_MODE: Host mode
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_DRD_MODE: Dual Role Device mode  
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx , USB_OTG_ModeTypeDef mode)
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD); 
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ( mode == USB_OTG_HOST_MODE)
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD; 
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ( mode == USB_OTG_DEVICE_MODE)
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD; 
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(50U);
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers 
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/ccgxsq1r.s 			page 5


 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i = 0U;
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*Activate VBUS Sensing B */
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable*/ 
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable VBUS */
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.phy_itface  == USB_OTG_ULPI_PHY)
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.speed == USB_OTG_SPEED_HIGH)
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {      
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set High speed phy */
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_SetDevSpeed (USBx , USB_OTG_SPEED_HIGH);
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else 
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* set High speed phy in Full speed mode */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_SetDevSpeed (USBx , USB_OTG_SPEED_HIGH_IN_FULL);
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Full speed phy */
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_SetDevSpeed (USBx , USB_OTG_SPEED_FULL);
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx , 0x10U); /* all Tx FIFOs */
ARM GAS  /tmp/ccgxsq1r.s 			page 6


 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = (USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK);
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = (USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK);
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Set threshold parameters */
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL = (USB_OTG_DTHRCTL_TXTHRLEN_6 | USB_OTG_DTHRCTL_RXTHRLEN_6);
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL |= (USB_OTG_DTHRCTL_RXTHREN | USB_OTG_DTHRCTL_ISOTHREN | USB_OTG_DTHRCTL_N
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     i= USBx_DEVICE->DTHRCTL;
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == DISABLE)
ARM GAS  /tmp/ccgxsq1r.s 			page 7


 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM; 
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |\
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |\
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM|\
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM);
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.Sof_enable)
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == ENABLE)
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT); 
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo (USB_OTG_GlobalTypeDef *USBx, uint32_t num )
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = ( USB_OTG_GRSTCTL_TXFFLSH |(uint32_t)( num << 6)); 
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000)
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
ARM GAS  /tmp/ccgxsq1r.s 			page 8


 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000)
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed :Initializes the DevSpd field of DCFG register 
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx , uint8_t speed)
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed :Return the  Dev Speed 
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : device speed
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed = 0U;
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_HIGH;
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ)||
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_FULL;
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/ccgxsq1r.s 			page 9


 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_LOW;
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num)));
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) 
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U);
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U)
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        (USB_OTG_DIEPCTL_SD0PID_SEVNFRM)| (USB_OTG_DOEPCTL_USBAEP));
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t debug = 0U;
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) 
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
ARM GAS  /tmp/ccgxsq1r.s 			page 10


 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     debug  |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) |\
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num)));
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U)
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP));
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t)(((uint32_t )USBx) + USB_OTG_OUT_ENDPOINT_BASE + (0U)*USB_OTG_EP_REG_SIZE);
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t )&USBx_OUTEP(ep->num)->DOEPCTL;
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U) |\
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP)); 
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U);
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the IN endpoint */
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_USBAEP;  
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the IN endpoint */
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable IN endpoint */
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS;
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_INEP(ep->num)->DIEPINT & USB_OTG_DIEPCTL_EPDIS) == USB_OTG_DIEPCTL_EPDIS);
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
ARM GAS  /tmp/ccgxsq1r.s 			page 11


 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush any data remaining in the TxFIFO */
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_FlushTxFifo(USBx , 0x10U);
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));   
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* Disable the OUT endpoint */
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;  
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the OUT endpoint */
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable OUT endpoint */
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS;
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_OUTEP(ep->num)->DOEPINT & USB_OTG_DOEPINT_OTEPDIS) == USB_OTG_DOEPINT_OTEPDIS);
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set the "Clear the Global OUT NAK bit" to disable global OUT NAK mode */
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGONAK;
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));         
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the IN endpoint */
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_USBAEP;  
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the IN endpoint */
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable IN endpoint */
ARM GAS  /tmp/ccgxsq1r.s 			page 12


 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS;
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_INEP(ep->num)->DIEPINT & USB_OTG_DIEPCTL_EPDIS) == USB_OTG_DIEPCTL_EPDIS);
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush any data remaining in the TxFIFO */
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_FlushTxFifo(USBx , 0x10U);
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));   
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* Disable the OUT endpoint */
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;  
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the OUT endpoint */
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable OUT endpoint */
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS;
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_OUTEP(ep->num)->DOEPINT & USB_OTG_DOEPINT_OTEPDIS) == USB_OTG_DOEPINT_OTEPDIS);
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set the "Clear the Global OUT NAK bit" to disable global OUT NAK mode */
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGONAK;
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));         
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
ARM GAS  /tmp/ccgxsq1r.s 			page 13


 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep, uint8_t dma)
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt = 0U;
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket -1
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT); 
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29U)); 
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }       
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPDMA = (uint32_t)(ep->dma_addr);
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1U << ep->num;
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/ccgxsq1r.s 			page 14


 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1U << 8U )) == 0U)
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_WritePacket(USBx, ep->xfer_buff, ep->num, ep->xfer_len, dma);   
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */  
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (ep->xfer_len + ep->maxpacket -1U)/ ep->maxpacket; 
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (pktcnt << 19U));
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt));
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPDMA = (uint32_t)ep->xfer_buff;
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1U << 8U )) == 0U)
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
ARM GAS  /tmp/ccgxsq1r.s 			page 15


 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep, uint8_t dma
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if(ep->xfer_len > ep->maxpacket)
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);     
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1)
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPDMA = (uint32_t)(ep->dma_addr);
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
ARM GAS  /tmp/ccgxsq1r.s 			page 16


 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1U << (ep->num);
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket)); 
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);    
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated 
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device           
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = 0U , i = 0U;
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b =  (len + 3U) / 4U;
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO(ch_ep_num) = *((__packed uint32_t *)src);
ARM GAS  /tmp/ccgxsq1r.s 			page 17


 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the Tx FIFO associated 
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device  
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src  source pointer
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i=0U;
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = (len + 3U) / 4U;
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for ( i = 0U; i < count32b; i++, dest += 4U )
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     *(__packed uint32_t *)dest = USBx_DFIFO(0U);
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)dest);
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure   
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep)
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == 0U)
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS); 
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == 0U)
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS); 
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccgxsq1r.s 			page 18


 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure   
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U ; i++)
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx ,  0x10U);  
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccgxsq1r.s 			page 19


1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress (USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~ (USB_OTG_DCFG_DAD);
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= (address << 4U) & USB_OTG_DCFG_DAD ;
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect (USB_OTG_GlobalTypeDef *USBx)
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS ;
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect (USB_OTG_GlobalTypeDef *USBx)
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS ;
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts (USB_OTG_GlobalTypeDef *USBx)
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v = 0U;
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx->GINTSTS;
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx->GINTMSK;
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;  
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccgxsq1r.s 			page 20


1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_DEVICE->DAINT;
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xffff0000U) >> 16U);
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_DEVICE->DAINT;
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xFFFFU));
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_OUTEP(epnum)->DOEPINT;
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DOEPMSK;
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v, msk, emp;
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> epnum) & 0x1U) << 7U;
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx_INEP(epnum)->DIEPINT & msk;
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccgxsq1r.s 			page 21


1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  interrupt flag
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts (USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt; 
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host 
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS ) & 0x1U);
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup (USB_OTG_GlobalTypeDef *USBx)
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(0U)->DIEPCTL |= 3U;
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
ARM GAS  /tmp/ccgxsq1r.s 			page 22


1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U)) ;
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;  
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL = 0x80008000U;
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  28              		.loc 1 1195 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  34              		.loc 1 1195 0
  35 0000 0C4B     		ldr	r3, .L9
  36 0002 01E0     		b	.L2
  37              	.LVL1:
  38              	.L4:
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
  39              		.loc 1 1201 0
  40 0004 013B     		subs	r3, r3, #1
  41              	.LVL2:
  42 0006 10D0     		beq	.L7
  43              	.LVL3:
  44              	.L2:
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
  45              		.loc 1 1206 0
  46 0008 0269     		ldr	r2, [r0, #16]
  47 000a 002A     		cmp	r2, #0
  48 000c FADA     		bge	.L4
  49              	.LVL4:
ARM GAS  /tmp/ccgxsq1r.s 			page 23


1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
  50              		.loc 1 1210 0
  51 000e 0369     		ldr	r3, [r0, #16]
  52 0010 43F00103 		orr	r3, r3, #1
  53 0014 0361     		str	r3, [r0, #16]
  54              	.LVL5:
  55 0016 074B     		ldr	r3, .L9
  56 0018 01E0     		b	.L5
  57              	.LVL6:
  58              	.L6:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
  59              		.loc 1 1214 0
  60 001a 013B     		subs	r3, r3, #1
  61              	.LVL7:
  62 001c 07D0     		beq	.L8
  63              	.LVL8:
  64              	.L5:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
  65              		.loc 1 1219 0
  66 001e 0269     		ldr	r2, [r0, #16]
  67 0020 12F0010F 		tst	r2, #1
  68 0024 F9D1     		bne	.L6
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
  69              		.loc 1 1221 0
  70 0026 0020     		movs	r0, #0
  71              	.LVL9:
  72 0028 7047     		bx	lr
  73              	.LVL10:
  74              	.L7:
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  75              		.loc 1 1203 0
  76 002a 0320     		movs	r0, #3
  77              	.LVL11:
  78 002c 7047     		bx	lr
  79              	.LVL12:
  80              	.L8:
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  81              		.loc 1 1216 0
  82 002e 0320     		movs	r0, #3
  83              	.LVL13:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
  84              		.loc 1 1222 0
  85 0030 7047     		bx	lr
  86              	.L10:
  87 0032 00BF     		.align	2
  88              	.L9:
ARM GAS  /tmp/ccgxsq1r.s 			page 24


  89 0034 400D0300 		.word	200000
  90              		.cfi_endproc
  91              	.LFE155:
  93              		.section	.text.USB_CoreInit,"ax",%progbits
  94              		.align	2
  95              		.global	USB_CoreInit
  96              		.thumb
  97              		.thumb_func
  99              	USB_CoreInit:
 100              	.LFB123:
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 101              		.loc 1 104 0
 102              		.cfi_startproc
 103              		@ args = 56, pretend = 16, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              	.LVL14:
 106 0000 84B0     		sub	sp, sp, #16
 107              	.LCFI0:
 108              		.cfi_def_cfa_offset 16
 109 0002 10B5     		push	{r4, lr}
 110              	.LCFI1:
 111              		.cfi_def_cfa_offset 24
 112              		.cfi_offset 4, -24
 113              		.cfi_offset 14, -20
 114 0004 0446     		mov	r4, r0
 115 0006 03A8     		add	r0, sp, #12
 116              	.LVL15:
 117 0008 80E80E00 		stmia	r0, {r1, r2, r3}
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 118              		.loc 1 105 0
 119 000c 089B     		ldr	r3, [sp, #32]
 120 000e 012B     		cmp	r3, #1
 121 0010 18D1     		bne	.L12
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 122              		.loc 1 108 0
 123 0012 A36B     		ldr	r3, [r4, #56]
 124 0014 23F48033 		bic	r3, r3, #65536
 125 0018 A363     		str	r3, [r4, #56]
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 126              		.loc 1 111 0
 127 001a E368     		ldr	r3, [r4, #12]
 128 001c 23F48403 		bic	r3, r3, #4325376
 129 0020 23F04003 		bic	r3, r3, #64
 130 0024 E360     		str	r3, [r4, #12]
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.use_external_vbus == 1U)
 131              		.loc 1 114 0
 132 0026 E368     		ldr	r3, [r4, #12]
 133 0028 23F44013 		bic	r3, r3, #3145728
 134 002c E360     		str	r3, [r4, #12]
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 135              		.loc 1 115 0
 136 002e 0F9B     		ldr	r3, [sp, #60]
 137 0030 012B     		cmp	r3, #1
 138 0032 03D1     		bne	.L13
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 139              		.loc 1 117 0
 140 0034 E368     		ldr	r3, [r4, #12]
ARM GAS  /tmp/ccgxsq1r.s 			page 25


 141 0036 43F48013 		orr	r3, r3, #1048576
 142 003a E360     		str	r3, [r4, #12]
 143              	.L13:
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 144              		.loc 1 120 0
 145 003c 2046     		mov	r0, r4
 146 003e FFF7FEFF 		bl	USB_CoreReset
 147              	.LVL16:
 148 0042 09E0     		b	.L14
 149              	.L12:
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 150              		.loc 1 125 0
 151 0044 E368     		ldr	r3, [r4, #12]
 152 0046 43F04003 		orr	r3, r3, #64
 153 004a E360     		str	r3, [r4, #12]
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 154              		.loc 1 128 0
 155 004c 2046     		mov	r0, r4
 156 004e FFF7FEFF 		bl	USB_CoreReset
 157              	.LVL17:
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 158              		.loc 1 131 0
 159 0052 4FF48033 		mov	r3, #65536
 160 0056 A363     		str	r3, [r4, #56]
 161              	.L14:
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 162              		.loc 1 134 0
 163 0058 069B     		ldr	r3, [sp, #24]
 164 005a 012B     		cmp	r3, #1
 165 005c 07D1     		bne	.L15
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 166              		.loc 1 136 0
 167 005e A368     		ldr	r3, [r4, #8]
 168 0060 43F00603 		orr	r3, r3, #6
 169 0064 A360     		str	r3, [r4, #8]
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }  
 170              		.loc 1 137 0
 171 0066 A368     		ldr	r3, [r4, #8]
 172 0068 43F02003 		orr	r3, r3, #32
 173 006c A360     		str	r3, [r4, #8]
 174              	.L15:
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 175              		.loc 1 141 0
 176 006e 0020     		movs	r0, #0
 177 0070 BDE81040 		pop	{r4, lr}
 178              	.LCFI2:
 179              		.cfi_restore 14
 180              		.cfi_restore 4
 181              		.cfi_def_cfa_offset 16
 182              	.LVL18:
 183 0074 04B0     		add	sp, sp, #16
 184              	.LCFI3:
 185              		.cfi_def_cfa_offset 0
 186 0076 7047     		bx	lr
 187              		.cfi_endproc
 188              	.LFE123:
 190              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
ARM GAS  /tmp/ccgxsq1r.s 			page 26


 191              		.align	2
 192              		.global	USB_EnableGlobalInt
 193              		.thumb
 194              		.thumb_func
 196              	USB_EnableGlobalInt:
 197              	.LFB124:
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 198              		.loc 1 150 0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              		@ link register save eliminated.
 203              	.LVL19:
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 204              		.loc 1 151 0
 205 0000 8368     		ldr	r3, [r0, #8]
 206 0002 43F00103 		orr	r3, r3, #1
 207 0006 8360     		str	r3, [r0, #8]
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 208              		.loc 1 153 0
 209 0008 0020     		movs	r0, #0
 210              	.LVL20:
 211 000a 7047     		bx	lr
 212              		.cfi_endproc
 213              	.LFE124:
 215              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 216              		.align	2
 217              		.global	USB_DisableGlobalInt
 218              		.thumb
 219              		.thumb_func
 221              	USB_DisableGlobalInt:
 222              	.LFB125:
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 223              		.loc 1 163 0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              		@ link register save eliminated.
 228              	.LVL21:
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 229              		.loc 1 164 0
 230 0000 8368     		ldr	r3, [r0, #8]
 231 0002 23F00103 		bic	r3, r3, #1
 232 0006 8360     		str	r3, [r0, #8]
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 233              		.loc 1 166 0
 234 0008 0020     		movs	r0, #0
 235              	.LVL22:
 236 000a 7047     		bx	lr
 237              		.cfi_endproc
 238              	.LFE125:
 240              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 241              		.align	2
 242              		.global	USB_SetCurrentMode
 243              		.thumb
 244              		.thumb_func
 246              	USB_SetCurrentMode:
ARM GAS  /tmp/ccgxsq1r.s 			page 27


 247              	.LFB126:
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD); 
 248              		.loc 1 179 0
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 0
 251              		@ frame_needed = 0, uses_anonymous_args = 0
 252              	.LVL23:
 253 0000 08B5     		push	{r3, lr}
 254              	.LCFI4:
 255              		.cfi_def_cfa_offset 8
 256              		.cfi_offset 3, -8
 257              		.cfi_offset 14, -4
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 258              		.loc 1 180 0
 259 0002 C368     		ldr	r3, [r0, #12]
 260 0004 23F0C043 		bic	r3, r3, #1610612736
 261 0008 C360     		str	r3, [r0, #12]
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 262              		.loc 1 182 0
 263 000a 0129     		cmp	r1, #1
 264 000c 04D1     		bne	.L20
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265              		.loc 1 184 0
 266 000e C368     		ldr	r3, [r0, #12]
 267 0010 43F00053 		orr	r3, r3, #536870912
 268 0014 C360     		str	r3, [r0, #12]
 269 0016 04E0     		b	.L21
 270              	.L20:
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 271              		.loc 1 186 0
 272 0018 19B9     		cbnz	r1, .L21
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 273              		.loc 1 188 0
 274 001a C368     		ldr	r3, [r0, #12]
 275 001c 43F08043 		orr	r3, r3, #1073741824
 276 0020 C360     		str	r3, [r0, #12]
 277              	.L21:
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 278              		.loc 1 190 0
 279 0022 3220     		movs	r0, #50
 280              	.LVL24:
 281 0024 FFF7FEFF 		bl	HAL_Delay
 282              	.LVL25:
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 283              		.loc 1 193 0
 284 0028 0020     		movs	r0, #0
 285 002a 08BD     		pop	{r3, pc}
 286              		.cfi_endproc
 287              	.LFE126:
 289              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 290              		.align	2
 291              		.global	USB_FlushTxFifo
 292              		.thumb
 293              		.thumb_func
 295              	USB_FlushTxFifo:
 296              	.LFB128:
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
ARM GAS  /tmp/ccgxsq1r.s 			page 28


 297              		.loc 1 350 0
 298              		.cfi_startproc
 299              		@ args = 0, pretend = 0, frame = 0
 300              		@ frame_needed = 0, uses_anonymous_args = 0
 301              		@ link register save eliminated.
 302              	.LVL26:
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 303              		.loc 1 353 0
 304 0000 8901     		lsls	r1, r1, #6
 305              	.LVL27:
 306 0002 41F02001 		orr	r1, r1, #32
 307 0006 0161     		str	r1, [r0, #16]
 308              	.LVL28:
 309 0008 054B     		ldr	r3, .L28
 310 000a 01E0     		b	.L24
 311              	.LVL29:
 312              	.L26:
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 313              		.loc 1 357 0
 314 000c 013B     		subs	r3, r3, #1
 315              	.LVL30:
 316 000e 05D0     		beq	.L27
 317              	.LVL31:
 318              	.L24:
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 319              		.loc 1 362 0
 320 0010 0269     		ldr	r2, [r0, #16]
 321 0012 12F0200F 		tst	r2, #32
 322 0016 F9D1     		bne	.L26
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 323              		.loc 1 364 0
 324 0018 0020     		movs	r0, #0
 325              	.LVL32:
 326 001a 7047     		bx	lr
 327              	.LVL33:
 328              	.L27:
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 329              		.loc 1 359 0
 330 001c 0320     		movs	r0, #3
 331              	.LVL34:
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 332              		.loc 1 365 0
 333 001e 7047     		bx	lr
 334              	.L29:
 335              		.align	2
 336              	.L28:
 337 0020 400D0300 		.word	200000
 338              		.cfi_endproc
 339              	.LFE128:
 341              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 342              		.align	2
 343              		.global	USB_FlushRxFifo
 344              		.thumb
 345              		.thumb_func
 347              	USB_FlushRxFifo:
 348              	.LFB129:
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
ARM GAS  /tmp/ccgxsq1r.s 			page 29


 349              		.loc 1 374 0
 350              		.cfi_startproc
 351              		@ args = 0, pretend = 0, frame = 0
 352              		@ frame_needed = 0, uses_anonymous_args = 0
 353              		@ link register save eliminated.
 354              	.LVL35:
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 355              		.loc 1 377 0
 356 0000 1023     		movs	r3, #16
 357 0002 0361     		str	r3, [r0, #16]
 358              	.LVL36:
 359 0004 054B     		ldr	r3, .L35
 360 0006 01E0     		b	.L31
 361              	.LVL37:
 362              	.L33:
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 363              		.loc 1 381 0
 364 0008 013B     		subs	r3, r3, #1
 365              	.LVL38:
 366 000a 05D0     		beq	.L34
 367              	.LVL39:
 368              	.L31:
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 369              		.loc 1 386 0
 370 000c 0269     		ldr	r2, [r0, #16]
 371 000e 12F0100F 		tst	r2, #16
 372 0012 F9D1     		bne	.L33
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 373              		.loc 1 388 0
 374 0014 0020     		movs	r0, #0
 375              	.LVL40:
 376 0016 7047     		bx	lr
 377              	.LVL41:
 378              	.L34:
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 379              		.loc 1 383 0
 380 0018 0320     		movs	r0, #3
 381              	.LVL42:
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 382              		.loc 1 389 0
 383 001a 7047     		bx	lr
 384              	.L36:
 385              		.align	2
 386              	.L35:
 387 001c 400D0300 		.word	200000
 388              		.cfi_endproc
 389              	.LFE129:
 391              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 392              		.align	2
 393              		.global	USB_SetDevSpeed
 394              		.thumb
 395              		.thumb_func
 397              	USB_SetDevSpeed:
 398              	.LFB130:
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 399              		.loc 1 404 0
 400              		.cfi_startproc
ARM GAS  /tmp/ccgxsq1r.s 			page 30


 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
 403              		@ link register save eliminated.
 404              	.LVL43:
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 405              		.loc 1 405 0
 406 0000 D0F80038 		ldr	r3, [r0, #2048]
 407 0004 1943     		orrs	r1, r1, r3
 408              	.LVL44:
 409 0006 C0F80018 		str	r1, [r0, #2048]
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 410              		.loc 1 407 0
 411 000a 0020     		movs	r0, #0
 412              	.LVL45:
 413 000c 7047     		bx	lr
 414              		.cfi_endproc
 415              	.LFE130:
 417 000e 00BF     		.section	.text.USB_DevInit,"ax",%progbits
 418              		.align	2
 419              		.global	USB_DevInit
 420              		.thumb
 421              		.thumb_func
 423              	USB_DevInit:
 424              	.LFB127:
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i = 0U;
 425              		.loc 1 204 0
 426              		.cfi_startproc
 427              		@ args = 56, pretend = 16, frame = 0
 428              		@ frame_needed = 0, uses_anonymous_args = 0
 429              	.LVL46:
 430 0000 84B0     		sub	sp, sp, #16
 431              	.LCFI5:
 432              		.cfi_def_cfa_offset 16
 433 0002 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 434              	.LCFI6:
 435              		.cfi_def_cfa_offset 40
 436              		.cfi_offset 3, -40
 437              		.cfi_offset 4, -36
 438              		.cfi_offset 5, -32
 439              		.cfi_offset 6, -28
 440              		.cfi_offset 7, -24
 441              		.cfi_offset 14, -20
 442 0004 0446     		mov	r4, r0
 443 0006 07A8     		add	r0, sp, #28
 444              	.LVL47:
 445 0008 80E80E00 		stmia	r0, {r1, r2, r3}
 446              	.LVL48:
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 447              		.loc 1 222 0
 448 000c 119E     		ldr	r6, [sp, #68]
 449 000e 26B9     		cbnz	r6, .L39
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 450              		.loc 1 224 0
 451 0010 A36B     		ldr	r3, [r4, #56]
 452 0012 43F40013 		orr	r3, r3, #2097152
 453 0016 A363     		str	r3, [r4, #56]
 454 0018 03E0     		b	.L40
ARM GAS  /tmp/ccgxsq1r.s 			page 31


 455              	.L39:
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 456              		.loc 1 229 0
 457 001a A36B     		ldr	r3, [r4, #56]
 458 001c 43F40023 		orr	r3, r3, #524288
 459 0020 A363     		str	r3, [r4, #56]
 460              	.L40:
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 461              		.loc 1 234 0
 462 0022 0023     		movs	r3, #0
 463 0024 C4F8003E 		str	r3, [r4, #3584]
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 464              		.loc 1 237 0
 465 0028 04F50065 		add	r5, r4, #2048
 466 002c D4F80038 		ldr	r3, [r4, #2048]
 467 0030 C4F80038 		str	r3, [r4, #2048]
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 468              		.loc 1 239 0
 469 0034 0C9B     		ldr	r3, [sp, #48]
 470 0036 012B     		cmp	r3, #1
 471 0038 0BD1     		bne	.L41
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {      
 472              		.loc 1 241 0
 473 003a 099B     		ldr	r3, [sp, #36]
 474 003c 23B9     		cbnz	r3, .L42
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 475              		.loc 1 244 0
 476 003e 2046     		mov	r0, r4
 477 0040 0021     		movs	r1, #0
 478 0042 FFF7FEFF 		bl	USB_SetDevSpeed
 479              	.LVL49:
 480 0046 08E0     		b	.L43
 481              	.L42:
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 482              		.loc 1 249 0
 483 0048 2046     		mov	r0, r4
 484 004a 0121     		movs	r1, #1
 485 004c FFF7FEFF 		bl	USB_SetDevSpeed
 486              	.LVL50:
 487 0050 03E0     		b	.L43
 488              	.L41:
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 489              		.loc 1 255 0
 490 0052 2046     		mov	r0, r4
 491 0054 0321     		movs	r1, #3
 492 0056 FFF7FEFF 		bl	USB_SetDevSpeed
 493              	.LVL51:
 494              	.L43:
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 495              		.loc 1 259 0
 496 005a 2046     		mov	r0, r4
 497 005c 1021     		movs	r1, #16
 498 005e FFF7FEFF 		bl	USB_FlushTxFifo
 499              	.LVL52:
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 500              		.loc 1 260 0
 501 0062 2046     		mov	r0, r4
ARM GAS  /tmp/ccgxsq1r.s 			page 32


 502 0064 FFF7FEFF 		bl	USB_FlushRxFifo
 503              	.LVL53:
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 504              		.loc 1 263 0
 505 0068 0023     		movs	r3, #0
 506 006a 2B61     		str	r3, [r5, #16]
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 507              		.loc 1 264 0
 508 006c 6B61     		str	r3, [r5, #20]
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 509              		.loc 1 265 0
 510 006e 4FF0FF32 		mov	r2, #-1
 511 0072 AA61     		str	r2, [r5, #24]
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 512              		.loc 1 266 0
 513 0074 EB61     		str	r3, [r5, #28]
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 514              		.loc 1 268 0
 515 0076 0798     		ldr	r0, [sp, #28]
 516 0078 48B3     		cbz	r0, .L44
 517 007a 04F51063 		add	r3, r4, #2304
 518 007e 0022     		movs	r2, #0
 519              	.LVL54:
 520              	.L47:
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 521              		.loc 1 270 0
 522 0080 1946     		mov	r1, r3
 523 0082 1F68     		ldr	r7, [r3]
 524 0084 002F     		cmp	r7, #0
 525 0086 03DA     		bge	.L45
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 526              		.loc 1 272 0
 527 0088 4FF09047 		mov	r7, #1207959552
 528 008c 1F60     		str	r7, [r3]
 529 008e 01E0     		b	.L46
 530              	.L45:
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 531              		.loc 1 276 0
 532 0090 0027     		movs	r7, #0
 533 0092 1F60     		str	r7, [r3]
 534              	.L46:
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 535              		.loc 1 279 0 discriminator 2
 536 0094 0027     		movs	r7, #0
 537 0096 0F61     		str	r7, [r1, #16]
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 538              		.loc 1 280 0 discriminator 2
 539 0098 FF27     		movs	r7, #255
 540 009a 8F60     		str	r7, [r1, #8]
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 541              		.loc 1 268 0 discriminator 2
 542 009c 0132     		adds	r2, r2, #1
 543              	.LVL55:
 544 009e 2033     		adds	r3, r3, #32
 545 00a0 8242     		cmp	r2, r0
 546 00a2 EDD3     		bcc	.L47
 547              	.LVL56:
ARM GAS  /tmp/ccgxsq1r.s 			page 33


 548 00a4 04F53063 		add	r3, r4, #2816
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 549              		.loc 1 268 0 is_stmt 0
 550 00a8 0022     		movs	r2, #0
 551              	.LVL57:
 552              	.L50:
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 553              		.loc 1 285 0 is_stmt 1
 554 00aa 1946     		mov	r1, r3
 555 00ac 1F68     		ldr	r7, [r3]
 556 00ae 002F     		cmp	r7, #0
 557 00b0 03DA     		bge	.L48
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 558              		.loc 1 287 0
 559 00b2 4FF09047 		mov	r7, #1207959552
 560 00b6 1F60     		str	r7, [r3]
 561 00b8 01E0     		b	.L49
 562              	.L48:
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 563              		.loc 1 291 0
 564 00ba 0027     		movs	r7, #0
 565 00bc 1F60     		str	r7, [r3]
 566              	.L49:
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 567              		.loc 1 294 0 discriminator 2
 568 00be 0027     		movs	r7, #0
 569 00c0 0F61     		str	r7, [r1, #16]
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 570              		.loc 1 295 0 discriminator 2
 571 00c2 FF27     		movs	r7, #255
 572 00c4 8F60     		str	r7, [r1, #8]
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 573              		.loc 1 283 0 discriminator 2
 574 00c6 0132     		adds	r2, r2, #1
 575              	.LVL58:
 576 00c8 2033     		adds	r3, r3, #32
 577 00ca 8242     		cmp	r2, r0
 578 00cc EDD1     		bne	.L50
 579              	.LVL59:
 580              	.L44:
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 581              		.loc 1 298 0
 582 00ce 2B69     		ldr	r3, [r5, #16]
 583 00d0 23F48073 		bic	r3, r3, #256
 584 00d4 2B61     		str	r3, [r5, #16]
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 585              		.loc 1 300 0
 586 00d6 0A9B     		ldr	r3, [sp, #40]
 587 00d8 012B     		cmp	r3, #1
 588 00da 0ED1     		bne	.L51
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL |= (USB_OTG_DTHRCTL_RXTHREN | USB_OTG_DTHRCTL_ISOTHREN | USB_OTG_DTHRCTL_N
 589              		.loc 1 303 0
 590 00dc 174B     		ldr	r3, .L56
 591 00de 2B63     		str	r3, [r5, #48]
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 592              		.loc 1 304 0
 593 00e0 2B6B     		ldr	r3, [r5, #48]
ARM GAS  /tmp/ccgxsq1r.s 			page 34


 594 00e2 43F48033 		orr	r3, r3, #65536
 595 00e6 43F00303 		orr	r3, r3, #3
 596 00ea 2B63     		str	r3, [r5, #48]
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 597              		.loc 1 306 0
 598 00ec 2B6B     		ldr	r3, [r5, #48]
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 599              		.loc 1 310 0
 600 00ee 0023     		movs	r3, #0
 601 00f0 A361     		str	r3, [r4, #24]
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 602              		.loc 1 313 0
 603 00f2 6FF08043 		mvn	r3, #1073741824
 604 00f6 6361     		str	r3, [r4, #20]
 605 00f8 09E0     		b	.L52
 606              	.L51:
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 607              		.loc 1 310 0
 608 00fa 0022     		movs	r2, #0
 609 00fc A261     		str	r2, [r4, #24]
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 610              		.loc 1 313 0
 611 00fe 6FF08042 		mvn	r2, #1073741824
 612 0102 6261     		str	r2, [r4, #20]
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 613              		.loc 1 316 0
 614 0104 1BB9     		cbnz	r3, .L52
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 615              		.loc 1 318 0
 616 0106 A369     		ldr	r3, [r4, #24]
 617 0108 43F01003 		orr	r3, r3, #16
 618 010c A361     		str	r3, [r4, #24]
 619              	.L52:
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |\
 620              		.loc 1 322 0
 621 010e A269     		ldr	r2, [r4, #24]
 622 0110 0B4B     		ldr	r3, .L56+4
 623 0112 1343     		orrs	r3, r3, r2
 624 0114 A361     		str	r3, [r4, #24]
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 625              		.loc 1 327 0
 626 0116 0D9B     		ldr	r3, [sp, #52]
 627 0118 1BB1     		cbz	r3, .L53
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 628              		.loc 1 329 0
 629 011a A369     		ldr	r3, [r4, #24]
 630 011c 43F00803 		orr	r3, r3, #8
 631 0120 A361     		str	r3, [r4, #24]
 632              	.L53:
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 633              		.loc 1 332 0
 634 0122 012E     		cmp	r6, #1
 635 0124 05D1     		bne	.L54
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 636              		.loc 1 334 0
 637 0126 A369     		ldr	r3, [r4, #24]
 638 0128 43F08043 		orr	r3, r3, #1073741824
ARM GAS  /tmp/ccgxsq1r.s 			page 35


 639 012c 43F00403 		orr	r3, r3, #4
 640 0130 A361     		str	r3, [r4, #24]
 641              	.L54:
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 642              		.loc 1 338 0
 643 0132 0020     		movs	r0, #0
 644 0134 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 645              	.LCFI7:
 646              		.cfi_restore 14
 647              		.cfi_restore 7
 648              		.cfi_restore 6
 649              		.cfi_restore 5
 650              		.cfi_restore 4
 651              		.cfi_restore 3
 652              		.cfi_def_cfa_offset 16
 653              	.LVL60:
 654 0138 04B0     		add	sp, sp, #16
 655              	.LCFI8:
 656              		.cfi_def_cfa_offset 0
 657 013a 7047     		bx	lr
 658              	.L57:
 659              		.align	2
 660              	.L56:
 661 013c 00018000 		.word	8388864
 662 0140 00383C80 		.word	-2143537152
 663              		.cfi_endproc
 664              	.LFE127:
 666              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 667              		.align	2
 668              		.global	USB_GetDevSpeed
 669              		.thumb
 670              		.thumb_func
 672              	USB_GetDevSpeed:
 673              	.LFB131:
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed = 0U;
 674              		.loc 1 419 0
 675              		.cfi_startproc
 676              		@ args = 0, pretend = 0, frame = 0
 677              		@ frame_needed = 0, uses_anonymous_args = 0
 678              		@ link register save eliminated.
 679              	.LVL61:
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 680              		.loc 1 422 0
 681 0000 D0F80838 		ldr	r3, [r0, #2056]
 682 0004 00F50060 		add	r0, r0, #2048
 683              	.LVL62:
 684 0008 13F0060F 		tst	r3, #6
 685 000c 10D0     		beq	.L60
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 686              		.loc 1 426 0
 687 000e 8368     		ldr	r3, [r0, #8]
 688 0010 03F00603 		and	r3, r3, #6
 689 0014 022B     		cmp	r3, #2
 690 0016 0DD0     		beq	.L61
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 691              		.loc 1 427 0 discriminator 1
 692 0018 8368     		ldr	r3, [r0, #8]
ARM GAS  /tmp/ccgxsq1r.s 			page 36


 693 001a 03F00603 		and	r3, r3, #6
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 694              		.loc 1 426 0 discriminator 1
 695 001e 062B     		cmp	r3, #6
 696 0020 0AD0     		beq	.L62
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 697              		.loc 1 431 0
 698 0022 8368     		ldr	r3, [r0, #8]
 699 0024 03F00603 		and	r3, r3, #6
 700 0028 042B     		cmp	r3, #4
 701 002a 07D1     		bne	.L63
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 702              		.loc 1 433 0
 703 002c 0220     		movs	r0, #2
 704              	.LVL63:
 705 002e 7047     		bx	lr
 706              	.L60:
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 707              		.loc 1 424 0
 708 0030 0020     		movs	r0, #0
 709 0032 7047     		bx	lr
 710              	.L61:
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 711              		.loc 1 429 0
 712 0034 0320     		movs	r0, #3
 713 0036 7047     		bx	lr
 714              	.L62:
 715 0038 0320     		movs	r0, #3
 716 003a 7047     		bx	lr
 717              	.L63:
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 718              		.loc 1 420 0
 719 003c 0020     		movs	r0, #0
 720              	.LVL64:
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 721              		.loc 1 437 0
 722 003e 7047     		bx	lr
 723              		.cfi_endproc
 724              	.LFE131:
 726              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 727              		.align	2
 728              		.global	USB_ActivateEndpoint
 729              		.thumb
 730              		.thumb_func
 732              	USB_ActivateEndpoint:
 733              	.LFB132:
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 734              		.loc 1 446 0
 735              		.cfi_startproc
 736              		@ args = 0, pretend = 0, frame = 0
 737              		@ frame_needed = 0, uses_anonymous_args = 0
 738              		@ link register save eliminated.
 739              	.LVL65:
 740 0000 70B4     		push	{r4, r5, r6}
 741              	.LCFI9:
 742              		.cfi_def_cfa_offset 12
 743              		.cfi_offset 4, -12
ARM GAS  /tmp/ccgxsq1r.s 			page 37


 744              		.cfi_offset 5, -8
 745              		.cfi_offset 6, -4
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 746              		.loc 1 447 0
 747 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 748 0004 012B     		cmp	r3, #1
 749 0006 1FD1     		bne	.L65
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 750              		.loc 1 449 0
 751 0008 D0F81C28 		ldr	r2, [r0, #2076]
 752 000c 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 753 000e AB40     		lsls	r3, r3, r5
 754 0010 9BB2     		uxth	r3, r3
 755 0012 1343     		orrs	r3, r3, r2
 756 0014 C0F81C38 		str	r3, [r0, #2076]
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 757              		.loc 1 451 0
 758 0018 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 759 001a 7301     		lsls	r3, r6, #5
 760 001c 03F51063 		add	r3, r3, #2304
 761 0020 1A58     		ldr	r2, [r3, r0]
 762 0022 12F4004F 		tst	r2, #32768
 763 0026 2DD1     		bne	.L66
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 764              		.loc 1 453 0
 765 0028 1C58     		ldr	r4, [r3, r0]
 766 002a 44F08055 		orr	r5, r4, #268435456
 767 002e 45F40045 		orr	r5, r5, #32768
 768 0032 8A68     		ldr	r2, [r1, #8]
 769 0034 C2F30A04 		ubfx	r4, r2, #0, #11
 770 0038 2C43     		orrs	r4, r4, r5
 771 003a CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 772 003c 44EA8242 		orr	r2, r4, r2, lsl #18
 773 0040 42EA8652 		orr	r2, r2, r6, lsl #22
 774 0044 1A50     		str	r2, [r3, r0]
 775 0046 1DE0     		b	.L66
 776              	.L65:
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      
 777              		.loc 1 459 0
 778 0048 D0F81C28 		ldr	r2, [r0, #2076]
 779 004c 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 780 004e 4FF48033 		mov	r3, #65536
 781 0052 AB40     		lsls	r3, r3, r5
 782 0054 1343     		orrs	r3, r3, r2
 783 0056 C0F81C38 		str	r3, [r0, #2076]
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 784              		.loc 1 461 0
 785 005a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 786 005c 5B01     		lsls	r3, r3, #5
 787 005e 03F53063 		add	r3, r3, #2816
 788 0062 1A58     		ldr	r2, [r3, r0]
 789 0064 12F4004F 		tst	r2, #32768
 790 0068 0CD1     		bne	.L66
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        (USB_OTG_DIEPCTL_SD0PID_SEVNFRM)| (USB_OTG_DOEPCTL_USBAEP));
 791              		.loc 1 463 0
 792 006a 1A58     		ldr	r2, [r3, r0]
 793 006c 42F08054 		orr	r4, r2, #268435456
ARM GAS  /tmp/ccgxsq1r.s 			page 38


 794 0070 44F40044 		orr	r4, r4, #32768
 795 0074 8A68     		ldr	r2, [r1, #8]
 796 0076 C2F30A02 		ubfx	r2, r2, #0, #11
 797 007a 2243     		orrs	r2, r2, r4
 798 007c C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 799              	.LVL66:
 800 007e 42EA8142 		orr	r2, r2, r1, lsl #18
 801 0082 1A50     		str	r2, [r3, r0]
 802              	.L66:
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 803              		.loc 1 468 0
 804 0084 0020     		movs	r0, #0
 805              	.LVL67:
 806 0086 70BC     		pop	{r4, r5, r6}
 807              	.LCFI10:
 808              		.cfi_restore 6
 809              		.cfi_restore 5
 810              		.cfi_restore 4
 811              		.cfi_def_cfa_offset 0
 812 0088 7047     		bx	lr
 813              		.cfi_endproc
 814              	.LFE132:
 816 008a 00BF     		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 817              		.align	2
 818              		.global	USB_ActivateDedicatedEndpoint
 819              		.thumb
 820              		.thumb_func
 822              	USB_ActivateDedicatedEndpoint:
 823              	.LFB133:
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t debug = 0U;
 824              		.loc 1 476 0
 825              		.cfi_startproc
 826              		@ args = 0, pretend = 0, frame = 0
 827              		@ frame_needed = 0, uses_anonymous_args = 0
 828              		@ link register save eliminated.
 829              	.LVL68:
 830 0000 70B4     		push	{r4, r5, r6}
 831              	.LCFI11:
 832              		.cfi_def_cfa_offset 12
 833              		.cfi_offset 4, -12
 834              		.cfi_offset 5, -8
 835              		.cfi_offset 6, -4
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 836              		.loc 1 480 0
 837 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 838 0004 012B     		cmp	r3, #1
 839 0006 30D1     		bne	.L69
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 840              		.loc 1 482 0
 841 0008 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 842 000a 7401     		lsls	r4, r6, #5
 843 000c 04F51064 		add	r4, r4, #2304
 844 0010 0359     		ldr	r3, [r0, r4]
 845 0012 13F4004F 		tst	r3, #32768
 846 0016 0ED1     		bne	.L70
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 847              		.loc 1 484 0
ARM GAS  /tmp/ccgxsq1r.s 			page 39


 848 0018 0259     		ldr	r2, [r0, r4]
 849 001a 42F08055 		orr	r5, r2, #268435456
 850 001e 45F40045 		orr	r5, r5, #32768
 851 0022 8B68     		ldr	r3, [r1, #8]
 852 0024 C3F30A02 		ubfx	r2, r3, #0, #11
 853 0028 2A43     		orrs	r2, r2, r5
 854 002a CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 855 002c 42EA8343 		orr	r3, r2, r3, lsl #18
 856 0030 43EA8653 		orr	r3, r3, r6, lsl #22
 857 0034 0351     		str	r3, [r0, r4]
 858              	.L70:
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 859              		.loc 1 490 0
 860 0036 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 861              		.loc 1 489 0
 862 0038 284D     		ldr	r5, .L74
 863 003a 2B68     		ldr	r3, [r5]
 864 003c 43F08052 		orr	r2, r3, #268435456
 865 0040 42F40042 		orr	r2, r2, #32768
 866 0044 8B68     		ldr	r3, [r1, #8]
 867 0046 C3F30A03 		ubfx	r3, r3, #0, #11
 868 004a 1343     		orrs	r3, r3, r2
 869 004c CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 870 004e 43EA8243 		orr	r3, r3, r2, lsl #18
 871 0052 43EA8453 		orr	r3, r3, r4, lsl #22
 872 0056 2B60     		str	r3, [r5]
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 873              		.loc 1 492 0
 874 0058 D0F83C28 		ldr	r2, [r0, #2108]
 875 005c 0123     		movs	r3, #1
 876 005e A340     		lsls	r3, r3, r4
 877 0060 9BB2     		uxth	r3, r3
 878 0062 1343     		orrs	r3, r3, r2
 879 0064 C0F83C38 		str	r3, [r0, #2108]
 880 0068 34E0     		b	.L71
 881              	.L69:
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 882              		.loc 1 496 0
 883 006a 0D78     		ldrb	r5, [r1]	@ zero_extendqisi2
 884 006c 6B01     		lsls	r3, r5, #5
 885 006e 03F53063 		add	r3, r3, #2816
 886 0072 C258     		ldr	r2, [r0, r3]
 887 0074 12F4004F 		tst	r2, #32768
 888 0078 23D1     		bne	.L72
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP));
 889              		.loc 1 498 0
 890 007a C458     		ldr	r4, [r0, r3]
 891 007c 44F40046 		orr	r6, r4, #32768
 892 0080 8A68     		ldr	r2, [r1, #8]
 893 0082 C2F30A04 		ubfx	r4, r2, #0, #11
 894 0086 3443     		orrs	r4, r4, r6
 895 0088 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 896 008a 44EA8242 		orr	r2, r4, r2, lsl #18
 897 008e 42EA8552 		orr	r2, r2, r5, lsl #22
 898 0092 C250     		str	r2, [r0, r3]
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t )&USBx_OUTEP(ep->num)->DOEPCTL;
ARM GAS  /tmp/ccgxsq1r.s 			page 40


 899              		.loc 1 501 0
 900 0094 00F53063 		add	r3, r0, #2816
 901 0098 104C     		ldr	r4, .L74
 902 009a 2360     		str	r3, [r4]
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U) |\
 903              		.loc 1 502 0
 904 009c 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 905 009e 00EB4612 		add	r2, r0, r6, lsl #5
 906 00a2 02F53062 		add	r2, r2, #2816
 907 00a6 2260     		str	r2, [r4]
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP)); 
 908              		.loc 1 503 0
 909 00a8 2268     		ldr	r2, [r4]
 910 00aa 42F40045 		orr	r5, r2, #32768
 911 00ae 8B68     		ldr	r3, [r1, #8]
 912 00b0 C3F30A02 		ubfx	r2, r3, #0, #11
 913 00b4 2A43     		orrs	r2, r2, r5
 914 00b6 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 915 00b8 42EA8343 		orr	r3, r2, r3, lsl #18
 916 00bc 43EA8653 		orr	r3, r3, r6, lsl #22
 917 00c0 2360     		str	r3, [r4]
 918              	.L72:
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 919              		.loc 1 507 0
 920 00c2 D0F83C28 		ldr	r2, [r0, #2108]
 921 00c6 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 922              	.LVL69:
 923 00c8 4FF48033 		mov	r3, #65536
 924 00cc 8B40     		lsls	r3, r3, r1
 925 00ce 1343     		orrs	r3, r3, r2
 926 00d0 C0F83C38 		str	r3, [r0, #2108]
 927              	.L71:
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 928              		.loc 1 511 0
 929 00d4 0020     		movs	r0, #0
 930              	.LVL70:
 931 00d6 70BC     		pop	{r4, r5, r6}
 932              	.LCFI12:
 933              		.cfi_restore 6
 934              		.cfi_restore 5
 935              		.cfi_restore 4
 936              		.cfi_def_cfa_offset 0
 937 00d8 7047     		bx	lr
 938              	.L75:
 939 00da 00BF     		.align	2
 940              	.L74:
 941 00dc 00000000 		.word	.LANCHOR0
 942              		.cfi_endproc
 943              	.LFE133:
 945              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 946              		.align	2
 947              		.global	USB_DeactivateEndpoint
 948              		.thumb
 949              		.thumb_func
 951              	USB_DeactivateEndpoint:
 952              	.LFB134:
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
ARM GAS  /tmp/ccgxsq1r.s 			page 41


 953              		.loc 1 519 0
 954              		.cfi_startproc
 955              		@ args = 0, pretend = 0, frame = 0
 956              		@ frame_needed = 0, uses_anonymous_args = 0
 957              	.LVL71:
 958 0000 38B5     		push	{r3, r4, r5, lr}
 959              	.LCFI13:
 960              		.cfi_def_cfa_offset 16
 961              		.cfi_offset 3, -16
 962              		.cfi_offset 4, -12
 963              		.cfi_offset 5, -8
 964              		.cfi_offset 14, -4
 965              	.LVL72:
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 966              		.loc 1 523 0
 967 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 968 0004 012B     		cmp	r3, #1
 969 0006 33D1     		bne	.L77
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 970              		.loc 1 525 0
 971 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 972 000a 5B01     		lsls	r3, r3, #5
 973 000c 03F51063 		add	r3, r3, #2304
 974 0010 1A58     		ldr	r2, [r3, r0]
 975 0012 22F40042 		bic	r2, r2, #32768
 976 0016 1A50     		str	r2, [r3, r0]
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 977              		.loc 1 528 0
 978 0018 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 979 001a 5B01     		lsls	r3, r3, #5
 980 001c 03F51063 		add	r3, r3, #2304
 981 0020 4FF00062 		mov	r2, #134217728
 982 0024 1A50     		str	r2, [r3, r0]
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 983              		.loc 1 531 0
 984 0026 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 985 0028 5B01     		lsls	r3, r3, #5
 986 002a 03F51063 		add	r3, r3, #2304
 987 002e 4FF08042 		mov	r2, #1073741824
 988 0032 1A50     		str	r2, [r3, r0]
 989              	.LVL73:
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 990              		.loc 1 542 0
 991 0034 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 992 0036 00EB4414 		add	r4, r0, r4, lsl #5
 993 003a 04F51064 		add	r4, r4, #2304
 994 003e 294B     		ldr	r3, .L86
 995 0040 01E0     		b	.L78
 996              	.LVL74:
 997              	.L80:
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 998              		.loc 1 535 0
 999 0042 013B     		subs	r3, r3, #1
 1000              	.LVL75:
 1001 0044 49D0     		beq	.L83
 1002              	.LVL76:
 1003              	.L78:
ARM GAS  /tmp/ccgxsq1r.s 			page 42


 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1004              		.loc 1 542 0
 1005 0046 A268     		ldr	r2, [r4, #8]
 1006 0048 12F0804F 		tst	r2, #1073741824
 1007 004c F9D1     		bne	.L80
 1008 004e 0D46     		mov	r5, r1
 1009 0050 0446     		mov	r4, r0
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1010              		.loc 1 546 0
 1011 0052 1021     		movs	r1, #16
 1012              	.LVL77:
 1013 0054 FFF7FEFF 		bl	USB_FlushTxFifo
 1014              	.LVL78:
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 1015              		.loc 1 549 0
 1016 0058 D4F81C28 		ldr	r2, [r4, #2076]
 1017 005c 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 1018 005e 0123     		movs	r3, #1
 1019 0060 8B40     		lsls	r3, r3, r1
 1020 0062 9BB2     		uxth	r3, r3
 1021 0064 22EA0303 		bic	r3, r2, r3
 1022 0068 C4F81C38 		str	r3, [r4, #2076]
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1023              		.loc 1 580 0
 1024 006c 0020     		movs	r0, #0
 1025 006e 38BD     		pop	{r3, r4, r5, pc}
 1026              	.LVL79:
 1027              	.L77:
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1028              		.loc 1 555 0
 1029 0070 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1030 0072 5B01     		lsls	r3, r3, #5
 1031 0074 03F53063 		add	r3, r3, #2816
 1032 0078 C258     		ldr	r2, [r0, r3]
 1033 007a 22F40042 		bic	r2, r2, #32768
 1034 007e C250     		str	r2, [r0, r3]
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1035              		.loc 1 558 0
 1036 0080 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1037 0082 5B01     		lsls	r3, r3, #5
 1038 0084 03F53063 		add	r3, r3, #2816
 1039 0088 4FF00062 		mov	r2, #134217728
 1040 008c C250     		str	r2, [r0, r3]
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1041              		.loc 1 561 0
 1042 008e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1043 0090 5B01     		lsls	r3, r3, #5
 1044 0092 03F53063 		add	r3, r3, #2816
 1045 0096 4FF08042 		mov	r2, #1073741824
 1046 009a C250     		str	r2, [r0, r3]
 1047              	.LVL80:
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1048              		.loc 1 572 0
 1049 009c 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1050 009e 00EB4414 		add	r4, r0, r4, lsl #5
 1051 00a2 04F53064 		add	r4, r4, #2816
 1052 00a6 0F4B     		ldr	r3, .L86
ARM GAS  /tmp/ccgxsq1r.s 			page 43


 1053 00a8 01E0     		b	.L81
 1054              	.LVL81:
 1055              	.L82:
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1056              		.loc 1 565 0
 1057 00aa 013B     		subs	r3, r3, #1
 1058              	.LVL82:
 1059 00ac 17D0     		beq	.L84
 1060              	.LVL83:
 1061              	.L81:
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1062              		.loc 1 572 0
 1063 00ae A268     		ldr	r2, [r4, #8]
 1064 00b0 12F0100F 		tst	r2, #16
 1065 00b4 F9D1     		bne	.L82
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1066              		.loc 1 575 0
 1067 00b6 D0F80438 		ldr	r3, [r0, #2052]
 1068              	.LVL84:
 1069 00ba 43F48063 		orr	r3, r3, #1024
 1070 00be C0F80438 		str	r3, [r0, #2052]
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 1071              		.loc 1 578 0
 1072 00c2 D0F81C28 		ldr	r2, [r0, #2076]
 1073 00c6 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1074              	.LVL85:
 1075 00c8 4FF48033 		mov	r3, #65536
 1076 00cc 8B40     		lsls	r3, r3, r1
 1077 00ce 22EA0303 		bic	r3, r2, r3
 1078 00d2 C0F81C38 		str	r3, [r0, #2076]
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1079              		.loc 1 580 0
 1080 00d6 0020     		movs	r0, #0
 1081              	.LVL86:
 1082 00d8 38BD     		pop	{r3, r4, r5, pc}
 1083              	.LVL87:
 1084              	.L83:
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1085              		.loc 1 537 0
 1086 00da 0320     		movs	r0, #3
 1087              	.LVL88:
 1088 00dc 38BD     		pop	{r3, r4, r5, pc}
 1089              	.LVL89:
 1090              	.L84:
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1091              		.loc 1 567 0
 1092 00de 0320     		movs	r0, #3
 1093              	.LVL90:
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1094              		.loc 1 581 0
 1095 00e0 38BD     		pop	{r3, r4, r5, pc}
 1096              	.LVL91:
 1097              	.L87:
 1098 00e2 00BF     		.align	2
 1099              	.L86:
 1100 00e4 400D0300 		.word	200000
 1101              		.cfi_endproc
ARM GAS  /tmp/ccgxsq1r.s 			page 44


 1102              	.LFE134:
 1104              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 1105              		.align	2
 1106              		.global	USB_DeactivateDedicatedEndpoint
 1107              		.thumb
 1108              		.thumb_func
 1110              	USB_DeactivateDedicatedEndpoint:
 1111              	.LFB135:
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 1112              		.loc 1 590 0
 1113              		.cfi_startproc
 1114              		@ args = 0, pretend = 0, frame = 0
 1115              		@ frame_needed = 0, uses_anonymous_args = 0
 1116              	.LVL92:
 1117 0000 38B5     		push	{r3, r4, r5, lr}
 1118              	.LCFI14:
 1119              		.cfi_def_cfa_offset 16
 1120              		.cfi_offset 3, -16
 1121              		.cfi_offset 4, -12
 1122              		.cfi_offset 5, -8
 1123              		.cfi_offset 14, -4
 1124              	.LVL93:
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1125              		.loc 1 594 0
 1126 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1127 0004 012B     		cmp	r3, #1
 1128 0006 33D1     		bne	.L89
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1129              		.loc 1 596 0
 1130 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1131 000a 5B01     		lsls	r3, r3, #5
 1132 000c 03F51063 		add	r3, r3, #2304
 1133 0010 1A58     		ldr	r2, [r3, r0]
 1134 0012 22F40042 		bic	r2, r2, #32768
 1135 0016 1A50     		str	r2, [r3, r0]
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1136              		.loc 1 599 0
 1137 0018 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1138 001a 5B01     		lsls	r3, r3, #5
 1139 001c 03F51063 		add	r3, r3, #2304
 1140 0020 4FF00062 		mov	r2, #134217728
 1141 0024 1A50     		str	r2, [r3, r0]
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1142              		.loc 1 602 0
 1143 0026 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1144 0028 5B01     		lsls	r3, r3, #5
 1145 002a 03F51063 		add	r3, r3, #2304
 1146 002e 4FF08042 		mov	r2, #1073741824
 1147 0032 1A50     		str	r2, [r3, r0]
 1148              	.LVL94:
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1149              		.loc 1 613 0
 1150 0034 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1151 0036 00EB4414 		add	r4, r0, r4, lsl #5
 1152 003a 04F51064 		add	r4, r4, #2304
 1153 003e 294B     		ldr	r3, .L98
 1154 0040 01E0     		b	.L90
ARM GAS  /tmp/ccgxsq1r.s 			page 45


 1155              	.LVL95:
 1156              	.L92:
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1157              		.loc 1 606 0
 1158 0042 013B     		subs	r3, r3, #1
 1159              	.LVL96:
 1160 0044 49D0     		beq	.L95
 1161              	.LVL97:
 1162              	.L90:
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1163              		.loc 1 613 0
 1164 0046 A268     		ldr	r2, [r4, #8]
 1165 0048 12F0804F 		tst	r2, #1073741824
 1166 004c F9D1     		bne	.L92
 1167 004e 0D46     		mov	r5, r1
 1168 0050 0446     		mov	r4, r0
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1169              		.loc 1 617 0
 1170 0052 1021     		movs	r1, #16
 1171              	.LVL98:
 1172 0054 FFF7FEFF 		bl	USB_FlushTxFifo
 1173              	.LVL99:
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 1174              		.loc 1 620 0
 1175 0058 D4F81C28 		ldr	r2, [r4, #2076]
 1176 005c 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 1177 005e 0123     		movs	r3, #1
 1178 0060 8B40     		lsls	r3, r3, r1
 1179 0062 9BB2     		uxth	r3, r3
 1180 0064 22EA0303 		bic	r3, r2, r3
 1181 0068 C4F81C38 		str	r3, [r4, #2076]
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1182              		.loc 1 651 0
 1183 006c 0020     		movs	r0, #0
 1184 006e 38BD     		pop	{r3, r4, r5, pc}
 1185              	.LVL100:
 1186              	.L89:
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1187              		.loc 1 626 0
 1188 0070 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1189 0072 5B01     		lsls	r3, r3, #5
 1190 0074 03F53063 		add	r3, r3, #2816
 1191 0078 C258     		ldr	r2, [r0, r3]
 1192 007a 22F40042 		bic	r2, r2, #32768
 1193 007e C250     		str	r2, [r0, r3]
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1194              		.loc 1 629 0
 1195 0080 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1196 0082 5B01     		lsls	r3, r3, #5
 1197 0084 03F53063 		add	r3, r3, #2816
 1198 0088 4FF00062 		mov	r2, #134217728
 1199 008c C250     		str	r2, [r0, r3]
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1200              		.loc 1 632 0
 1201 008e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1202 0090 5B01     		lsls	r3, r3, #5
 1203 0092 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/ccgxsq1r.s 			page 46


 1204 0096 4FF08042 		mov	r2, #1073741824
 1205 009a C250     		str	r2, [r0, r3]
 1206              	.LVL101:
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1207              		.loc 1 643 0
 1208 009c 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1209 009e 00EB4414 		add	r4, r0, r4, lsl #5
 1210 00a2 04F53064 		add	r4, r4, #2816
 1211 00a6 0F4B     		ldr	r3, .L98
 1212 00a8 01E0     		b	.L93
 1213              	.LVL102:
 1214              	.L94:
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1215              		.loc 1 636 0
 1216 00aa 013B     		subs	r3, r3, #1
 1217              	.LVL103:
 1218 00ac 17D0     		beq	.L96
 1219              	.LVL104:
 1220              	.L93:
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1221              		.loc 1 643 0
 1222 00ae A268     		ldr	r2, [r4, #8]
 1223 00b0 12F0100F 		tst	r2, #16
 1224 00b4 F9D1     		bne	.L94
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1225              		.loc 1 646 0
 1226 00b6 D0F80438 		ldr	r3, [r0, #2052]
 1227              	.LVL105:
 1228 00ba 43F48063 		orr	r3, r3, #1024
 1229 00be C0F80438 		str	r3, [r0, #2052]
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 1230              		.loc 1 649 0
 1231 00c2 D0F81C28 		ldr	r2, [r0, #2076]
 1232 00c6 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1233              	.LVL106:
 1234 00c8 4FF48033 		mov	r3, #65536
 1235 00cc 8B40     		lsls	r3, r3, r1
 1236 00ce 22EA0303 		bic	r3, r2, r3
 1237 00d2 C0F81C38 		str	r3, [r0, #2076]
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1238              		.loc 1 651 0
 1239 00d6 0020     		movs	r0, #0
 1240              	.LVL107:
 1241 00d8 38BD     		pop	{r3, r4, r5, pc}
 1242              	.LVL108:
 1243              	.L95:
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1244              		.loc 1 608 0
 1245 00da 0320     		movs	r0, #3
 1246              	.LVL109:
 1247 00dc 38BD     		pop	{r3, r4, r5, pc}
 1248              	.LVL110:
 1249              	.L96:
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1250              		.loc 1 638 0
 1251 00de 0320     		movs	r0, #3
 1252              	.LVL111:
ARM GAS  /tmp/ccgxsq1r.s 			page 47


 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1253              		.loc 1 653 0
 1254 00e0 38BD     		pop	{r3, r4, r5, pc}
 1255              	.LVL112:
 1256              	.L99:
 1257 00e2 00BF     		.align	2
 1258              	.L98:
 1259 00e4 400D0300 		.word	200000
 1260              		.cfi_endproc
 1261              	.LFE135:
 1263              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 1264              		.align	2
 1265              		.global	USB_EP0StartXfer
 1266              		.thumb
 1267              		.thumb_func
 1269              	USB_EP0StartXfer:
 1270              	.LFB137:
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 1271              		.loc 1 788 0
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 0
 1274              		@ frame_needed = 0, uses_anonymous_args = 0
 1275              		@ link register save eliminated.
 1276              	.LVL113:
 1277 0000 30B4     		push	{r4, r5}
 1278              	.LCFI15:
 1279              		.cfi_def_cfa_offset 8
 1280              		.cfi_offset 4, -8
 1281              		.cfi_offset 5, -4
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1282              		.loc 1 790 0
 1283 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1284 0004 012B     		cmp	r3, #1
 1285 0006 69D1     		bne	.L101
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1286              		.loc 1 793 0
 1287 0008 4B69     		ldr	r3, [r1, #20]
 1288 000a EBB9     		cbnz	r3, .L102
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 1289              		.loc 1 795 0
 1290 000c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1291 000e 00EB4313 		add	r3, r0, r3, lsl #5
 1292 0012 D3F81049 		ldr	r4, [r3, #2320]
 1293 0016 24F0FF54 		bic	r4, r4, #534773760
 1294 001a 24F4C014 		bic	r4, r4, #1572864
 1295 001e C3F81049 		str	r4, [r3, #2320]
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 1296              		.loc 1 796 0
 1297 0022 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1298 0024 00EB4313 		add	r3, r0, r3, lsl #5
 1299 0028 D3F81049 		ldr	r4, [r3, #2320]
 1300 002c 44F40024 		orr	r4, r4, #524288
 1301 0030 C3F81049 		str	r4, [r3, #2320]
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1302              		.loc 1 797 0
 1303 0034 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1304 0036 00EB4313 		add	r3, r0, r3, lsl #5
ARM GAS  /tmp/ccgxsq1r.s 			page 48


 1305 003a D3F81049 		ldr	r4, [r3, #2320]
 1306 003e E40C     		lsrs	r4, r4, #19
 1307 0040 E404     		lsls	r4, r4, #19
 1308 0042 C3F81049 		str	r4, [r3, #2320]
 1309 0046 2CE0     		b	.L103
 1310              	.L102:
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 1311              		.loc 1 806 0
 1312 0048 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1313 004a 00EB4313 		add	r3, r0, r3, lsl #5
 1314 004e D3F81049 		ldr	r4, [r3, #2320]
 1315 0052 E40C     		lsrs	r4, r4, #19
 1316 0054 E404     		lsls	r4, r4, #19
 1317 0056 C3F81049 		str	r4, [r3, #2320]
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 1318              		.loc 1 807 0
 1319 005a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1320 005c 00EB4313 		add	r3, r0, r3, lsl #5
 1321 0060 D3F81049 		ldr	r4, [r3, #2320]
 1322 0064 24F0FF54 		bic	r4, r4, #534773760
 1323 0068 24F4C014 		bic	r4, r4, #1572864
 1324 006c C3F81049 		str	r4, [r3, #2320]
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1325              		.loc 1 809 0
 1326 0070 8B68     		ldr	r3, [r1, #8]
 1327 0072 4C69     		ldr	r4, [r1, #20]
 1328 0074 9C42     		cmp	r4, r3
 1329 0076 00D9     		bls	.L104
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1330              		.loc 1 811 0
 1331 0078 4B61     		str	r3, [r1, #20]
 1332              	.L104:
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 1333              		.loc 1 813 0
 1334 007a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1335 007c 00EB4313 		add	r3, r0, r3, lsl #5
 1336 0080 D3F81049 		ldr	r4, [r3, #2320]
 1337 0084 44F40024 		orr	r4, r4, #524288
 1338 0088 C3F81049 		str	r4, [r3, #2320]
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1339              		.loc 1 814 0
 1340 008c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1341 008e 00EB4313 		add	r3, r0, r3, lsl #5
 1342 0092 D3F81059 		ldr	r5, [r3, #2320]
 1343 0096 4C69     		ldr	r4, [r1, #20]
 1344 0098 C4F31204 		ubfx	r4, r4, #0, #19
 1345 009c 2C43     		orrs	r4, r4, r5
 1346 009e C3F81049 		str	r4, [r3, #2320]
 1347              	.L103:
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1348              		.loc 1 819 0
 1349 00a2 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1350 00a4 5B01     		lsls	r3, r3, #5
 1351 00a6 03F51063 		add	r3, r3, #2304
 1352 00aa C458     		ldr	r4, [r0, r3]
 1353 00ac 44F00444 		orr	r4, r4, #-2080374784
 1354 00b0 C450     		str	r4, [r0, r3]
ARM GAS  /tmp/ccgxsq1r.s 			page 49


 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1355              		.loc 1 821 0
 1356 00b2 012A     		cmp	r2, #1
 1357 00b4 06D1     		bne	.L105
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1358              		.loc 1 823 0
 1359 00b6 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1360 00b8 00EB4310 		add	r0, r0, r3, lsl #5
 1361              	.LVL114:
 1362 00bc 0B69     		ldr	r3, [r1, #16]
 1363 00be C0F81439 		str	r3, [r0, #2324]
 1364 00c2 47E0     		b	.L106
 1365              	.LVL115:
 1366              	.L105:
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1367              		.loc 1 828 0
 1368 00c4 4B69     		ldr	r3, [r1, #20]
 1369 00c6 002B     		cmp	r3, #0
 1370 00c8 44D0     		beq	.L106
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1371              		.loc 1 830 0
 1372 00ca D0F83428 		ldr	r2, [r0, #2100]
 1373              	.LVL116:
 1374 00ce 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1375              	.LVL117:
 1376 00d0 0123     		movs	r3, #1
 1377 00d2 8B40     		lsls	r3, r3, r1
 1378 00d4 1343     		orrs	r3, r3, r2
 1379 00d6 C0F83438 		str	r3, [r0, #2100]
 1380 00da 3BE0     		b	.L106
 1381              	.LVL118:
 1382              	.L101:
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 1383              		.loc 1 841 0
 1384 00dc 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1385 00de 00EB4313 		add	r3, r0, r3, lsl #5
 1386 00e2 D3F8104B 		ldr	r4, [r3, #2832]
 1387 00e6 E40C     		lsrs	r4, r4, #19
 1388 00e8 E404     		lsls	r4, r4, #19
 1389 00ea C3F8104B 		str	r4, [r3, #2832]
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 1390              		.loc 1 842 0
 1391 00ee 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1392 00f0 00EB4313 		add	r3, r0, r3, lsl #5
 1393 00f4 D3F8104B 		ldr	r4, [r3, #2832]
 1394 00f8 24F0FF54 		bic	r4, r4, #534773760
 1395 00fc 24F4C014 		bic	r4, r4, #1572864
 1396 0100 C3F8104B 		str	r4, [r3, #2832]
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1397              		.loc 1 844 0
 1398 0104 4B69     		ldr	r3, [r1, #20]
 1399 0106 0BB1     		cbz	r3, .L107
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1400              		.loc 1 846 0
 1401 0108 8B68     		ldr	r3, [r1, #8]
 1402 010a 4B61     		str	r3, [r1, #20]
 1403              	.L107:
ARM GAS  /tmp/ccgxsq1r.s 			page 50


 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket)); 
 1404              		.loc 1 849 0
 1405 010c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1406 010e 00EB4313 		add	r3, r0, r3, lsl #5
 1407 0112 D3F8104B 		ldr	r4, [r3, #2832]
 1408 0116 44F40024 		orr	r4, r4, #524288
 1409 011a C3F8104B 		str	r4, [r3, #2832]
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1410              		.loc 1 850 0
 1411 011e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1412 0120 00EB4313 		add	r3, r0, r3, lsl #5
 1413 0124 D3F8105B 		ldr	r5, [r3, #2832]
 1414 0128 8C68     		ldr	r4, [r1, #8]
 1415 012a C4F31204 		ubfx	r4, r4, #0, #19
 1416 012e 2C43     		orrs	r4, r4, r5
 1417 0130 C3F8104B 		str	r4, [r3, #2832]
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1418              		.loc 1 853 0
 1419 0134 012A     		cmp	r2, #1
 1420 0136 05D1     		bne	.L108
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1421              		.loc 1 855 0
 1422 0138 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1423 013a 00EB4313 		add	r3, r0, r3, lsl #5
 1424 013e CA68     		ldr	r2, [r1, #12]
 1425              	.LVL119:
 1426 0140 C3F8142B 		str	r2, [r3, #2836]
 1427              	.L108:
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 1428              		.loc 1 859 0
 1429 0144 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1430 0146 5B01     		lsls	r3, r3, #5
 1431 0148 03F53063 		add	r3, r3, #2816
 1432 014c C258     		ldr	r2, [r0, r3]
 1433 014e 42F00442 		orr	r2, r2, #-2080374784
 1434 0152 C250     		str	r2, [r0, r3]
 1435              	.LVL120:
 1436              	.L106:
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1437              		.loc 1 862 0
 1438 0154 0020     		movs	r0, #0
 1439 0156 30BC     		pop	{r4, r5}
 1440              	.LCFI16:
 1441              		.cfi_restore 5
 1442              		.cfi_restore 4
 1443              		.cfi_def_cfa_offset 0
 1444 0158 7047     		bx	lr
 1445              		.cfi_endproc
 1446              	.LFE137:
 1448 015a 00BF     		.section	.text.USB_WritePacket,"ax",%progbits
 1449              		.align	2
 1450              		.global	USB_WritePacket
 1451              		.thumb
 1452              		.thumb_func
 1454              	USB_WritePacket:
 1455              	.LFB138:
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = 0U , i = 0U;
ARM GAS  /tmp/ccgxsq1r.s 			page 51


 1456              		.loc 1 878 0
 1457              		.cfi_startproc
 1458              		@ args = 4, pretend = 0, frame = 0
 1459              		@ frame_needed = 0, uses_anonymous_args = 0
 1460              		@ link register save eliminated.
 1461              	.LVL121:
 1462 0000 30B4     		push	{r4, r5}
 1463              	.LCFI17:
 1464              		.cfi_def_cfa_offset 8
 1465              		.cfi_offset 4, -8
 1466              		.cfi_offset 5, -4
 1467              	.LVL122:
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1468              		.loc 1 881 0
 1469 0002 9DF80840 		ldrb	r4, [sp, #8]	@ zero_extendqisi2
 1470 0006 64B9     		cbnz	r4, .L111
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
 1471              		.loc 1 883 0
 1472 0008 0333     		adds	r3, r3, #3
 1473              	.LVL123:
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1474              		.loc 1 884 0
 1475 000a 9B08     		lsrs	r3, r3, #2
 1476              	.LVL124:
 1477 000c 09D0     		beq	.L111
 1478 000e 00F58050 		add	r0, r0, #4096
 1479              	.LVL125:
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1480              		.loc 1 886 0
 1481 0012 00EB0232 		add	r2, r0, r2, lsl #12
 1482              	.LVL126:
 1483              	.L112:
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1484              		.loc 1 886 0 is_stmt 0 discriminator 3
 1485 0016 51F8045B 		ldr	r5, [r1], #4
 1486              	.LVL127:
 1487 001a 1560     		str	r5, [r2]
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1488              		.loc 1 884 0 is_stmt 1 discriminator 3
 1489 001c 0134     		adds	r4, r4, #1
 1490              	.LVL128:
 1491 001e 9C42     		cmp	r4, r3
 1492 0020 F9D1     		bne	.L112
 1493              	.LVL129:
 1494              	.L111:
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1495              		.loc 1 890 0
 1496 0022 0020     		movs	r0, #0
 1497 0024 30BC     		pop	{r4, r5}
 1498              	.LCFI18:
 1499              		.cfi_restore 5
 1500              		.cfi_restore 4
 1501              		.cfi_def_cfa_offset 0
 1502              	.LVL130:
 1503 0026 7047     		bx	lr
 1504              		.cfi_endproc
 1505              	.LFE138:
ARM GAS  /tmp/ccgxsq1r.s 			page 52


 1507              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1508              		.align	2
 1509              		.global	USB_EPStartXfer
 1510              		.thumb
 1511              		.thumb_func
 1513              	USB_EPStartXfer:
 1514              	.LFB136:
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt = 0U;
 1515              		.loc 1 666 0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 0
 1518              		@ frame_needed = 0, uses_anonymous_args = 0
 1519              	.LVL131:
 1520 0000 70B5     		push	{r4, r5, r6, lr}
 1521              	.LCFI19:
 1522              		.cfi_def_cfa_offset 16
 1523              		.cfi_offset 4, -16
 1524              		.cfi_offset 5, -12
 1525              		.cfi_offset 6, -8
 1526              		.cfi_offset 14, -4
 1527 0002 82B0     		sub	sp, sp, #8
 1528              	.LCFI20:
 1529              		.cfi_def_cfa_offset 24
 1530              	.LVL132:
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1531              		.loc 1 670 0
 1532 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1533 0006 012B     		cmp	r3, #1
 1534 0008 40F0A980 		bne	.L115
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1535              		.loc 1 673 0
 1536 000c 4B69     		ldr	r3, [r1, #20]
 1537 000e EBB9     		cbnz	r3, .L116
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 1538              		.loc 1 675 0
 1539 0010 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1540 0012 00EB4313 		add	r3, r0, r3, lsl #5
 1541 0016 D3F81049 		ldr	r4, [r3, #2320]
 1542 001a 24F0FF54 		bic	r4, r4, #534773760
 1543 001e 24F4C014 		bic	r4, r4, #1572864
 1544 0022 C3F81049 		str	r4, [r3, #2320]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 1545              		.loc 1 676 0
 1546 0026 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1547 0028 00EB4313 		add	r3, r0, r3, lsl #5
 1548 002c D3F81049 		ldr	r4, [r3, #2320]
 1549 0030 44F40024 		orr	r4, r4, #524288
 1550 0034 C3F81049 		str	r4, [r3, #2320]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1551              		.loc 1 677 0
 1552 0038 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1553 003a 00EB4313 		add	r3, r0, r3, lsl #5
 1554 003e D3F81049 		ldr	r4, [r3, #2320]
 1555 0042 E40C     		lsrs	r4, r4, #19
 1556 0044 E404     		lsls	r4, r4, #19
 1557 0046 C3F81049 		str	r4, [r3, #2320]
 1558 004a 45E0     		b	.L117
ARM GAS  /tmp/ccgxsq1r.s 			page 53


 1559              	.L116:
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 1560              		.loc 1 686 0
 1561 004c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1562 004e 00EB4313 		add	r3, r0, r3, lsl #5
 1563 0052 D3F81049 		ldr	r4, [r3, #2320]
 1564 0056 E40C     		lsrs	r4, r4, #19
 1565 0058 E404     		lsls	r4, r4, #19
 1566 005a C3F81049 		str	r4, [r3, #2320]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket -1
 1567              		.loc 1 687 0
 1568 005e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1569 0060 00EB4313 		add	r3, r0, r3, lsl #5
 1570 0064 D3F81049 		ldr	r4, [r3, #2320]
 1571 0068 24F0FF54 		bic	r4, r4, #534773760
 1572 006c 24F4C014 		bic	r4, r4, #1572864
 1573 0070 C3F81049 		str	r4, [r3, #2320]
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 1574              		.loc 1 688 0
 1575 0074 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1576 0076 00EB4414 		add	r4, r0, r4, lsl #5
 1577 007a D4F81059 		ldr	r5, [r4, #2320]
 1578 007e 8E68     		ldr	r6, [r1, #8]
 1579 0080 4B69     		ldr	r3, [r1, #20]
 1580 0082 3344     		add	r3, r3, r6
 1581 0084 013B     		subs	r3, r3, #1
 1582 0086 B3FBF6F3 		udiv	r3, r3, r6
 1583 008a 724E     		ldr	r6, .L134
 1584 008c 06EAC343 		and	r3, r6, r3, lsl #19
 1585 0090 2B43     		orrs	r3, r3, r5
 1586 0092 C4F81039 		str	r3, [r4, #2320]
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 1587              		.loc 1 689 0
 1588 0096 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1589 0098 00EB4313 		add	r3, r0, r3, lsl #5
 1590 009c D3F81059 		ldr	r5, [r3, #2320]
 1591 00a0 4C69     		ldr	r4, [r1, #20]
 1592 00a2 C4F31204 		ubfx	r4, r4, #0, #19
 1593 00a6 2C43     		orrs	r4, r4, r5
 1594 00a8 C3F81049 		str	r4, [r3, #2320]
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1595              		.loc 1 691 0
 1596 00ac CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1597 00ae 012B     		cmp	r3, #1
 1598 00b0 40F0C880 		bne	.L118
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29U)); 
 1599              		.loc 1 693 0
 1600 00b4 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1601 00b6 00EB4313 		add	r3, r0, r3, lsl #5
 1602 00ba D3F81049 		ldr	r4, [r3, #2320]
 1603 00be 24F0C044 		bic	r4, r4, #1610612736
 1604 00c2 C3F81049 		str	r4, [r3, #2320]
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }       
 1605              		.loc 1 694 0
 1606 00c6 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1607 00c8 00EB4313 		add	r3, r0, r3, lsl #5
 1608 00cc D3F81049 		ldr	r4, [r3, #2320]
ARM GAS  /tmp/ccgxsq1r.s 			page 54


 1609 00d0 44F00054 		orr	r4, r4, #536870912
 1610 00d4 C3F81049 		str	r4, [r3, #2320]
 1611              	.L117:
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1612              		.loc 1 698 0
 1613 00d8 012A     		cmp	r2, #1
 1614 00da 06D1     		bne	.L119
 1615              	.L130:
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1616              		.loc 1 700 0
 1617 00dc 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1618 00de 00EB4313 		add	r3, r0, r3, lsl #5
 1619 00e2 0C69     		ldr	r4, [r1, #16]
 1620 00e4 C3F81449 		str	r4, [r3, #2324]
 1621 00e8 0CE0     		b	.L120
 1622              	.L119:
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1623              		.loc 1 704 0
 1624 00ea CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1625 00ec 012B     		cmp	r3, #1
 1626 00ee 0CD0     		beq	.L121
 1627              	.L131:
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 1628              		.loc 1 707 0
 1629 00f0 4B69     		ldr	r3, [r1, #20]
 1630 00f2 03B3     		cbz	r3, .L122
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 1631              		.loc 1 709 0
 1632 00f4 D0F83448 		ldr	r4, [r0, #2100]
 1633 00f8 0E78     		ldrb	r6, [r1]	@ zero_extendqisi2
 1634 00fa 0123     		movs	r3, #1
 1635 00fc B340     		lsls	r3, r3, r6
 1636 00fe 2343     		orrs	r3, r3, r4
 1637 0100 C0F83438 		str	r3, [r0, #2100]
 1638              	.L120:
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1639              		.loc 1 714 0
 1640 0104 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1641 0106 012B     		cmp	r3, #1
 1642 0108 15D1     		bne	.L122
 1643              	.L121:
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1644              		.loc 1 716 0
 1645 010a D0F80838 		ldr	r3, [r0, #2056]
 1646 010e 13F4807F 		tst	r3, #256
 1647 0112 08D1     		bne	.L123
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1648              		.loc 1 718 0
 1649 0114 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1650 0116 5B01     		lsls	r3, r3, #5
 1651 0118 03F51063 		add	r3, r3, #2304
 1652 011c C458     		ldr	r4, [r0, r3]
 1653 011e 44F00054 		orr	r4, r4, #536870912
 1654 0122 C450     		str	r4, [r0, r3]
 1655 0124 07E0     		b	.L122
 1656              	.L123:
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
ARM GAS  /tmp/ccgxsq1r.s 			page 55


 1657              		.loc 1 722 0
 1658 0126 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1659 0128 5B01     		lsls	r3, r3, #5
 1660 012a 03F51063 		add	r3, r3, #2304
 1661 012e C458     		ldr	r4, [r0, r3]
 1662 0130 44F08054 		orr	r4, r4, #268435456
 1663 0134 C450     		str	r4, [r0, r3]
 1664              	.L122:
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1665              		.loc 1 727 0
 1666 0136 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1667 0138 5B01     		lsls	r3, r3, #5
 1668 013a 03F51063 		add	r3, r3, #2304
 1669 013e C458     		ldr	r4, [r0, r3]
 1670 0140 44F00444 		orr	r4, r4, #-2080374784
 1671 0144 C450     		str	r4, [r0, r3]
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1672              		.loc 1 729 0
 1673 0146 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1674 0148 012B     		cmp	r3, #1
 1675 014a 7FD1     		bne	.L132
 1676 014c 1446     		mov	r4, r2
 1677 014e 0B46     		mov	r3, r1
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 1678              		.loc 1 731 0
 1679 0150 C968     		ldr	r1, [r1, #12]
 1680              	.LVL133:
 1681 0152 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1682              	.LVL134:
 1683 0154 9B8A     		ldrh	r3, [r3, #20]
 1684              	.LVL135:
 1685 0156 0094     		str	r4, [sp]
 1686 0158 FFF7FEFF 		bl	USB_WritePacket
 1687              	.LVL136:
 1688 015c 76E0     		b	.L132
 1689              	.LVL137:
 1690              	.L115:
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 1691              		.loc 1 740 0
 1692 015e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1693 0160 00EB4313 		add	r3, r0, r3, lsl #5
 1694 0164 D3F8104B 		ldr	r4, [r3, #2832]
 1695 0168 E40C     		lsrs	r4, r4, #19
 1696 016a E404     		lsls	r4, r4, #19
 1697 016c C3F8104B 		str	r4, [r3, #2832]
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1698              		.loc 1 741 0
 1699 0170 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1700 0172 00EB4313 		add	r3, r0, r3, lsl #5
 1701 0176 D3F8104B 		ldr	r4, [r3, #2832]
 1702 017a 24F0FF54 		bic	r4, r4, #534773760
 1703 017e 24F4C014 		bic	r4, r4, #1572864
 1704 0182 C3F8104B 		str	r4, [r3, #2832]
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1705              		.loc 1 743 0
 1706 0186 4B69     		ldr	r3, [r1, #20]
 1707 0188 A3B9     		cbnz	r3, .L125
ARM GAS  /tmp/ccgxsq1r.s 			page 56


 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 1708              		.loc 1 745 0
 1709 018a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1710 018c 00EB4313 		add	r3, r0, r3, lsl #5
 1711 0190 D3F8105B 		ldr	r5, [r3, #2832]
 1712 0194 8C68     		ldr	r4, [r1, #8]
 1713 0196 C4F31204 		ubfx	r4, r4, #0, #19
 1714 019a 2C43     		orrs	r4, r4, r5
 1715 019c C3F8104B 		str	r4, [r3, #2832]
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1716              		.loc 1 746 0
 1717 01a0 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1718 01a2 00EB4313 		add	r3, r0, r3, lsl #5
 1719 01a6 D3F8104B 		ldr	r4, [r3, #2832]
 1720 01aa 44F40024 		orr	r4, r4, #524288
 1721 01ae C3F8104B 		str	r4, [r3, #2832]
 1722 01b2 1DE0     		b	.L126
 1723              	.L125:
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (pktcnt << 19U));
 1724              		.loc 1 750 0
 1725 01b4 8D68     		ldr	r5, [r1, #8]
 1726              	.LVL138:
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt));
 1727              		.loc 1 751 0
 1728 01b6 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1729 01b8 00EB4414 		add	r4, r0, r4, lsl #5
 1730 01bc D4F8106B 		ldr	r6, [r4, #2832]
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (pktcnt << 19U));
 1731              		.loc 1 750 0
 1732 01c0 2B44     		add	r3, r3, r5
 1733              	.LVL139:
 1734 01c2 013B     		subs	r3, r3, #1
 1735 01c4 B3FBF5F3 		udiv	r3, r3, r5
 1736 01c8 9BB2     		uxth	r3, r3
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt));
 1737              		.loc 1 751 0
 1738 01ca 224D     		ldr	r5, .L134
 1739              	.LVL140:
 1740 01cc 05EAC345 		and	r5, r5, r3, lsl #19
 1741 01d0 3543     		orrs	r5, r5, r6
 1742 01d2 C4F8105B 		str	r5, [r4, #2832]
 1743              	.LVL141:
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1744              		.loc 1 752 0
 1745 01d6 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 1746 01d8 00EB4414 		add	r4, r0, r4, lsl #5
 1747 01dc D4F8106B 		ldr	r6, [r4, #2832]
 1748 01e0 8D68     		ldr	r5, [r1, #8]
 1749 01e2 05FB03F3 		mul	r3, r5, r3
 1750 01e6 C3F31203 		ubfx	r3, r3, #0, #19
 1751 01ea 3343     		orrs	r3, r3, r6
 1752 01ec C4F8103B 		str	r3, [r4, #2832]
 1753              	.L126:
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1754              		.loc 1 755 0
 1755 01f0 012A     		cmp	r2, #1
 1756 01f2 05D1     		bne	.L127
ARM GAS  /tmp/ccgxsq1r.s 			page 57


 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 1757              		.loc 1 757 0
 1758 01f4 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1759 01f6 00EB4313 		add	r3, r0, r3, lsl #5
 1760 01fa CA68     		ldr	r2, [r1, #12]
 1761              	.LVL142:
 1762 01fc C3F8142B 		str	r2, [r3, #2836]
 1763              	.L127:
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1764              		.loc 1 760 0
 1765 0200 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1766 0202 012B     		cmp	r3, #1
 1767 0204 15D1     		bne	.L128
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 1768              		.loc 1 762 0
 1769 0206 D0F80838 		ldr	r3, [r0, #2056]
 1770 020a 13F4807F 		tst	r3, #256
 1771 020e 08D1     		bne	.L129
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1772              		.loc 1 764 0
 1773 0210 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1774 0212 5B01     		lsls	r3, r3, #5
 1775 0214 03F53063 		add	r3, r3, #2816
 1776 0218 C258     		ldr	r2, [r0, r3]
 1777 021a 42F00052 		orr	r2, r2, #536870912
 1778 021e C250     		str	r2, [r0, r3]
 1779 0220 07E0     		b	.L128
 1780              	.L129:
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 1781              		.loc 1 768 0
 1782 0222 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1783 0224 5B01     		lsls	r3, r3, #5
 1784 0226 03F53063 		add	r3, r3, #2816
 1785 022a C258     		ldr	r2, [r0, r3]
 1786 022c 42F08052 		orr	r2, r2, #268435456
 1787 0230 C250     		str	r2, [r0, r3]
 1788              	.L128:
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 1789              		.loc 1 772 0
 1790 0232 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1791 0234 5B01     		lsls	r3, r3, #5
 1792 0236 03F53063 		add	r3, r3, #2816
 1793 023a C258     		ldr	r2, [r0, r3]
 1794 023c 42F00442 		orr	r2, r2, #-2080374784
 1795 0240 C250     		str	r2, [r0, r3]
 1796 0242 03E0     		b	.L132
 1797              	.LVL143:
 1798              	.L118:
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1799              		.loc 1 698 0
 1800 0244 012A     		cmp	r2, #1
 1801 0246 7FF453AF 		bne	.L131
 1802 024a 47E7     		b	.L130
 1803              	.LVL144:
 1804              	.L132:
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1805              		.loc 1 775 0
ARM GAS  /tmp/ccgxsq1r.s 			page 58


 1806 024c 0020     		movs	r0, #0
 1807 024e 02B0     		add	sp, sp, #8
 1808              	.LCFI21:
 1809              		.cfi_def_cfa_offset 16
 1810              		@ sp needed
 1811 0250 70BD     		pop	{r4, r5, r6, pc}
 1812              	.L135:
 1813 0252 00BF     		.align	2
 1814              	.L134:
 1815 0254 0000F81F 		.word	536346624
 1816              		.cfi_endproc
 1817              	.LFE136:
 1819              		.section	.text.USB_ReadPacket,"ax",%progbits
 1820              		.align	2
 1821              		.global	USB_ReadPacket
 1822              		.thumb
 1823              		.thumb_func
 1825              	USB_ReadPacket:
 1826              	.LFB139:
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i=0U;
 1827              		.loc 1 906 0
 1828              		.cfi_startproc
 1829              		@ args = 0, pretend = 0, frame = 0
 1830              		@ frame_needed = 0, uses_anonymous_args = 0
 1831              		@ link register save eliminated.
 1832              	.LVL145:
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 1833              		.loc 1 908 0
 1834 0000 0332     		adds	r2, r2, #3
 1835              	.LVL146:
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1836              		.loc 1 910 0
 1837 0002 9208     		lsrs	r2, r2, #2
 1838              	.LVL147:
 1839 0004 0FD0     		beq	.L140
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i=0U;
 1840              		.loc 1 906 0
 1841 0006 30B4     		push	{r4, r5}
 1842              	.LCFI22:
 1843              		.cfi_def_cfa_offset 8
 1844              		.cfi_offset 4, -8
 1845              		.cfi_offset 5, -4
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1846              		.loc 1 910 0
 1847 0008 0C46     		mov	r4, r1
 1848 000a 0023     		movs	r3, #0
 1849              	.LVL148:
 1850              	.L138:
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 1851              		.loc 1 912 0 discriminator 3
 1852 000c 00F58055 		add	r5, r0, #4096
 1853 0010 2D68     		ldr	r5, [r5]
 1854 0012 44F8045B 		str	r5, [r4], #4
 1855              	.LVL149:
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1856              		.loc 1 910 0 discriminator 3
 1857 0016 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccgxsq1r.s 			page 59


 1858              	.LVL150:
 1859 0018 9342     		cmp	r3, r2
 1860 001a F7D1     		bne	.L138
 1861 001c 01EB8201 		add	r1, r1, r2, lsl #2
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1862              		.loc 1 916 0
 1863 0020 0846     		mov	r0, r1
 1864              	.LVL151:
 1865 0022 30BC     		pop	{r4, r5}
 1866              	.LCFI23:
 1867              		.cfi_restore 5
 1868              		.cfi_restore 4
 1869              		.cfi_def_cfa_offset 0
 1870              	.LVL152:
 1871 0024 7047     		bx	lr
 1872              	.LVL153:
 1873              	.L140:
 1874 0026 0846     		mov	r0, r1
 1875              	.LVL154:
 1876 0028 7047     		bx	lr
 1877              		.cfi_endproc
 1878              	.LFE139:
 1880 002a 00BF     		.section	.text.USB_EPSetStall,"ax",%progbits
 1881              		.align	2
 1882              		.global	USB_EPSetStall
 1883              		.thumb
 1884              		.thumb_func
 1886              	USB_EPSetStall:
 1887              	.LFB140:
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1888              		.loc 1 925 0
 1889              		.cfi_startproc
 1890              		@ args = 0, pretend = 0, frame = 0
 1891              		@ frame_needed = 0, uses_anonymous_args = 0
 1892              		@ link register save eliminated.
 1893              	.LVL155:
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1894              		.loc 1 926 0
 1895 0000 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1896 0002 012B     		cmp	r3, #1
 1897 0004 13D1     		bne	.L142
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1898              		.loc 1 928 0
 1899 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1900 0008 5B01     		lsls	r3, r3, #5
 1901 000a 03F51063 		add	r3, r3, #2304
 1902 000e C258     		ldr	r2, [r0, r3]
 1903 0010 002A     		cmp	r2, #0
 1904 0012 03DB     		blt	.L143
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 1905              		.loc 1 930 0
 1906 0014 C258     		ldr	r2, [r0, r3]
 1907 0016 22F08042 		bic	r2, r2, #1073741824
 1908 001a C250     		str	r2, [r0, r3]
 1909              	.L143:
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 1910              		.loc 1 932 0
ARM GAS  /tmp/ccgxsq1r.s 			page 60


 1911 001c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1912 001e 5B01     		lsls	r3, r3, #5
 1913 0020 03F51063 		add	r3, r3, #2304
 1914 0024 C258     		ldr	r2, [r0, r3]
 1915 0026 42F40012 		orr	r2, r2, #2097152
 1916 002a C250     		str	r2, [r0, r3]
 1917 002c 12E0     		b	.L144
 1918              	.L142:
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1919              		.loc 1 936 0
 1920 002e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1921 0030 5B01     		lsls	r3, r3, #5
 1922 0032 03F53063 		add	r3, r3, #2816
 1923 0036 C258     		ldr	r2, [r0, r3]
 1924 0038 002A     		cmp	r2, #0
 1925 003a 03DB     		blt	.L145
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 1926              		.loc 1 938 0
 1927 003c C258     		ldr	r2, [r0, r3]
 1928 003e 22F08042 		bic	r2, r2, #1073741824
 1929 0042 C250     		str	r2, [r0, r3]
 1930              	.L145:
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 1931              		.loc 1 940 0
 1932 0044 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1933 0046 5B01     		lsls	r3, r3, #5
 1934 0048 03F53063 		add	r3, r3, #2816
 1935 004c C258     		ldr	r2, [r0, r3]
 1936 004e 42F40012 		orr	r2, r2, #2097152
 1937 0052 C250     		str	r2, [r0, r3]
 1938              	.L144:
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 1939              		.loc 1 943 0
 1940 0054 0020     		movs	r0, #0
 1941              	.LVL156:
 1942 0056 7047     		bx	lr
 1943              		.cfi_endproc
 1944              	.LFE140:
 1946              		.section	.text.USB_EPClearStall,"ax",%progbits
 1947              		.align	2
 1948              		.global	USB_EPClearStall
 1949              		.thumb
 1950              		.thumb_func
 1952              	USB_EPClearStall:
 1953              	.LFB141:
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1954              		.loc 1 953 0
 1955              		.cfi_startproc
 1956              		@ args = 0, pretend = 0, frame = 0
 1957              		@ frame_needed = 0, uses_anonymous_args = 0
 1958              		@ link register save eliminated.
 1959              	.LVL157:
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 1960              		.loc 1 954 0
 1961 0000 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1962 0002 012B     		cmp	r3, #1
 1963 0004 15D1     		bne	.L147
ARM GAS  /tmp/ccgxsq1r.s 			page 61


 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 1964              		.loc 1 956 0
 1965 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1966 0008 5B01     		lsls	r3, r3, #5
 1967 000a 03F51063 		add	r3, r3, #2304
 1968 000e C258     		ldr	r2, [r0, r3]
 1969 0010 22F40012 		bic	r2, r2, #2097152
 1970 0014 C250     		str	r2, [r0, r3]
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1971              		.loc 1 957 0
 1972 0016 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1973 0018 023B     		subs	r3, r3, #2
 1974 001a DBB2     		uxtb	r3, r3
 1975 001c 012B     		cmp	r3, #1
 1976 001e 1DD8     		bhi	.L148
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 1977              		.loc 1 959 0
 1978 0020 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1979 0022 5B01     		lsls	r3, r3, #5
 1980 0024 03F51063 		add	r3, r3, #2304
 1981 0028 C258     		ldr	r2, [r0, r3]
 1982 002a 42F08052 		orr	r2, r2, #268435456
 1983 002e C250     		str	r2, [r0, r3]
 1984 0030 14E0     		b	.L148
 1985              	.L147:
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 1986              		.loc 1 964 0
 1987 0032 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1988 0034 5B01     		lsls	r3, r3, #5
 1989 0036 03F53063 		add	r3, r3, #2816
 1990 003a C258     		ldr	r2, [r0, r3]
 1991 003c 22F40012 		bic	r2, r2, #2097152
 1992 0040 C250     		str	r2, [r0, r3]
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 1993              		.loc 1 965 0
 1994 0042 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1995 0044 023B     		subs	r3, r3, #2
 1996 0046 DBB2     		uxtb	r3, r3
 1997 0048 012B     		cmp	r3, #1
 1998 004a 07D8     		bhi	.L148
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 1999              		.loc 1 967 0
 2000 004c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 2001 004e 5B01     		lsls	r3, r3, #5
 2002 0050 03F53063 		add	r3, r3, #2816
 2003 0054 C258     		ldr	r2, [r0, r3]
 2004 0056 42F08052 		orr	r2, r2, #268435456
 2005 005a C250     		str	r2, [r0, r3]
 2006              	.L148:
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2007              		.loc 1 971 0
 2008 005c 0020     		movs	r0, #0
 2009              	.LVL158:
 2010 005e 7047     		bx	lr
 2011              		.cfi_endproc
 2012              	.LFE141:
 2014              		.section	.text.USB_StopDevice,"ax",%progbits
ARM GAS  /tmp/ccgxsq1r.s 			page 62


 2015              		.align	2
 2016              		.global	USB_StopDevice
 2017              		.thumb
 2018              		.thumb_func
 2020              	USB_StopDevice:
 2021              	.LFB142:
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 2022              		.loc 1 979 0
 2023              		.cfi_startproc
 2024              		@ args = 0, pretend = 0, frame = 0
 2025              		@ frame_needed = 0, uses_anonymous_args = 0
 2026              	.LVL159:
 2027 0000 38B5     		push	{r3, r4, r5, lr}
 2028              	.LCFI24:
 2029              		.cfi_def_cfa_offset 16
 2030              		.cfi_offset 3, -16
 2031              		.cfi_offset 4, -12
 2032              		.cfi_offset 5, -8
 2033              		.cfi_offset 14, -4
 2034 0002 0446     		mov	r4, r0
 2035              	.LVL160:
 2036 0004 00F51063 		add	r3, r0, #2304
 2037 0008 00F52E60 		add	r0, r0, #2784
 2038              	.LVL161:
 2039              	.L150:
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 2040              		.loc 1 985 0 discriminator 3
 2041 000c FF22     		movs	r2, #255
 2042 000e 9A60     		str	r2, [r3, #8]
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2043              		.loc 1 986 0 discriminator 3
 2044 0010 C3F80822 		str	r2, [r3, #520]
 2045 0014 2033     		adds	r3, r3, #32
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2046              		.loc 1 983 0 discriminator 3
 2047 0016 8342     		cmp	r3, r0
 2048 0018 F8D1     		bne	.L150
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2049              		.loc 1 988 0
 2050 001a 4FF0FF32 		mov	r2, #-1
 2051 001e C4F81828 		str	r2, [r4, #2072]
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 2052              		.loc 1 991 0
 2053 0022 0025     		movs	r5, #0
 2054 0024 C4F81058 		str	r5, [r4, #2064]
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 2055              		.loc 1 992 0
 2056 0028 C4F81458 		str	r5, [r4, #2068]
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2057              		.loc 1 993 0
 2058 002c C4F81C58 		str	r5, [r4, #2076]
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx ,  0x10U);  
 2059              		.loc 1 996 0
 2060 0030 2046     		mov	r0, r4
 2061 0032 FFF7FEFF 		bl	USB_FlushRxFifo
 2062              	.LVL162:
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
ARM GAS  /tmp/ccgxsq1r.s 			page 63


 2063              		.loc 1 997 0
 2064 0036 2046     		mov	r0, r4
 2065 0038 1021     		movs	r1, #16
 2066 003a FFF7FEFF 		bl	USB_FlushTxFifo
 2067              	.LVL163:
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2068              		.loc 1 1000 0
 2069 003e 2846     		mov	r0, r5
 2070 0040 38BD     		pop	{r3, r4, r5, pc}
 2071              		.cfi_endproc
 2072              	.LFE142:
 2074 0042 00BF     		.section	.text.USB_SetDevAddress,"ax",%progbits
 2075              		.align	2
 2076              		.global	USB_SetDevAddress
 2077              		.thumb
 2078              		.thumb_func
 2080              	USB_SetDevAddress:
 2081              	.LFB143:
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~ (USB_OTG_DCFG_DAD);
 2082              		.loc 1 1010 0
 2083              		.cfi_startproc
 2084              		@ args = 0, pretend = 0, frame = 0
 2085              		@ frame_needed = 0, uses_anonymous_args = 0
 2086              		@ link register save eliminated.
 2087              	.LVL164:
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= (address << 4U) & USB_OTG_DCFG_DAD ;
 2088              		.loc 1 1011 0
 2089 0000 D0F80038 		ldr	r3, [r0, #2048]
 2090 0004 23F4FE63 		bic	r3, r3, #2032
 2091 0008 C0F80038 		str	r3, [r0, #2048]
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2092              		.loc 1 1012 0
 2093 000c D0F80038 		ldr	r3, [r0, #2048]
 2094 0010 0901     		lsls	r1, r1, #4
 2095              	.LVL165:
 2096 0012 01F4FE61 		and	r1, r1, #2032
 2097 0016 0B43     		orrs	r3, r3, r1
 2098 0018 C0F80038 		str	r3, [r0, #2048]
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2099              		.loc 1 1015 0
 2100 001c 0020     		movs	r0, #0
 2101              	.LVL166:
 2102 001e 7047     		bx	lr
 2103              		.cfi_endproc
 2104              	.LFE143:
 2106              		.section	.text.USB_DevConnect,"ax",%progbits
 2107              		.align	2
 2108              		.global	USB_DevConnect
 2109              		.thumb
 2110              		.thumb_func
 2112              	USB_DevConnect:
 2113              	.LFB144:
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS ;
 2114              		.loc 1 1023 0
 2115              		.cfi_startproc
 2116              		@ args = 0, pretend = 0, frame = 0
 2117              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccgxsq1r.s 			page 64


 2118              	.LVL167:
 2119 0000 08B5     		push	{r3, lr}
 2120              	.LCFI25:
 2121              		.cfi_def_cfa_offset 8
 2122              		.cfi_offset 3, -8
 2123              		.cfi_offset 14, -4
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 2124              		.loc 1 1024 0
 2125 0002 D0F80438 		ldr	r3, [r0, #2052]
 2126 0006 23F00203 		bic	r3, r3, #2
 2127 000a C0F80438 		str	r3, [r0, #2052]
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2128              		.loc 1 1025 0
 2129 000e 0320     		movs	r0, #3
 2130              	.LVL168:
 2131 0010 FFF7FEFF 		bl	HAL_Delay
 2132              	.LVL169:
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2133              		.loc 1 1028 0
 2134 0014 0020     		movs	r0, #0
 2135 0016 08BD     		pop	{r3, pc}
 2136              		.cfi_endproc
 2137              	.LFE144:
 2139              		.section	.text.USB_DevDisconnect,"ax",%progbits
 2140              		.align	2
 2141              		.global	USB_DevDisconnect
 2142              		.thumb
 2143              		.thumb_func
 2145              	USB_DevDisconnect:
 2146              	.LFB145:
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS ;
 2147              		.loc 1 1036 0
 2148              		.cfi_startproc
 2149              		@ args = 0, pretend = 0, frame = 0
 2150              		@ frame_needed = 0, uses_anonymous_args = 0
 2151              	.LVL170:
 2152 0000 08B5     		push	{r3, lr}
 2153              	.LCFI26:
 2154              		.cfi_def_cfa_offset 8
 2155              		.cfi_offset 3, -8
 2156              		.cfi_offset 14, -4
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 2157              		.loc 1 1037 0
 2158 0002 D0F80438 		ldr	r3, [r0, #2052]
 2159 0006 43F00203 		orr	r3, r3, #2
 2160 000a C0F80438 		str	r3, [r0, #2052]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2161              		.loc 1 1038 0
 2162 000e 0320     		movs	r0, #3
 2163              	.LVL171:
 2164 0010 FFF7FEFF 		bl	HAL_Delay
 2165              	.LVL172:
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2166              		.loc 1 1041 0
 2167 0014 0020     		movs	r0, #0
 2168 0016 08BD     		pop	{r3, pc}
 2169              		.cfi_endproc
ARM GAS  /tmp/ccgxsq1r.s 			page 65


 2170              	.LFE145:
 2172              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 2173              		.align	2
 2174              		.global	USB_ReadInterrupts
 2175              		.thumb
 2176              		.thumb_func
 2178              	USB_ReadInterrupts:
 2179              	.LFB146:
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v = 0U;
 2180              		.loc 1 1049 0
 2181              		.cfi_startproc
 2182              		@ args = 0, pretend = 0, frame = 0
 2183              		@ frame_needed = 0, uses_anonymous_args = 0
 2184              		@ link register save eliminated.
 2185              	.LVL173:
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx->GINTMSK;
 2186              		.loc 1 1052 0
 2187 0000 4369     		ldr	r3, [r0, #20]
 2188              	.LVL174:
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;  
 2189              		.loc 1 1053 0
 2190 0002 8069     		ldr	r0, [r0, #24]
 2191              	.LVL175:
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2192              		.loc 1 1055 0
 2193 0004 1840     		ands	r0, r0, r3
 2194              	.LVL176:
 2195 0006 7047     		bx	lr
 2196              		.cfi_endproc
 2197              	.LFE146:
 2199              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 2200              		.align	2
 2201              		.global	USB_ReadDevAllOutEpInterrupt
 2202              		.thumb
 2203              		.thumb_func
 2205              	USB_ReadDevAllOutEpInterrupt:
 2206              	.LFB147:
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
 2207              		.loc 1 1063 0
 2208              		.cfi_startproc
 2209              		@ args = 0, pretend = 0, frame = 0
 2210              		@ frame_needed = 0, uses_anonymous_args = 0
 2211              		@ link register save eliminated.
 2212              	.LVL177:
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
 2213              		.loc 1 1065 0
 2214 0000 D0F81838 		ldr	r3, [r0, #2072]
 2215 0004 00F50060 		add	r0, r0, #2048
 2216              	.LVL178:
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xffff0000U) >> 16U);
 2217              		.loc 1 1066 0
 2218 0008 C069     		ldr	r0, [r0, #28]
 2219              	.LVL179:
 2220 000a 1840     		ands	r0, r0, r3
 2221              	.LVL180:
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2222              		.loc 1 1068 0
ARM GAS  /tmp/ccgxsq1r.s 			page 66


 2223 000c 000C     		lsrs	r0, r0, #16
 2224              	.LVL181:
 2225 000e 7047     		bx	lr
 2226              		.cfi_endproc
 2227              	.LFE147:
 2229              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 2230              		.align	2
 2231              		.global	USB_ReadDevAllInEpInterrupt
 2232              		.thumb
 2233              		.thumb_func
 2235              	USB_ReadDevAllInEpInterrupt:
 2236              	.LFB148:
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
 2237              		.loc 1 1076 0
 2238              		.cfi_startproc
 2239              		@ args = 0, pretend = 0, frame = 0
 2240              		@ frame_needed = 0, uses_anonymous_args = 0
 2241              		@ link register save eliminated.
 2242              	.LVL182:
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
 2243              		.loc 1 1078 0
 2244 0000 00F50063 		add	r3, r0, #2048
 2245 0004 D0F81808 		ldr	r0, [r0, #2072]
 2246              	.LVL183:
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xFFFFU));
 2247              		.loc 1 1079 0
 2248 0008 DB69     		ldr	r3, [r3, #28]
 2249              	.LVL184:
 2250 000a 1840     		ands	r0, r0, r3
 2251              	.LVL185:
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2252              		.loc 1 1081 0
 2253 000c 80B2     		uxth	r0, r0
 2254              	.LVL186:
 2255 000e 7047     		bx	lr
 2256              		.cfi_endproc
 2257              	.LFE148:
 2259              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 2260              		.align	2
 2261              		.global	USB_ReadDevOutEPInterrupt
 2262              		.thumb
 2263              		.thumb_func
 2265              	USB_ReadDevOutEPInterrupt:
 2266              	.LFB149:
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
 2267              		.loc 1 1091 0
 2268              		.cfi_startproc
 2269              		@ args = 0, pretend = 0, frame = 0
 2270              		@ frame_needed = 0, uses_anonymous_args = 0
 2271              		@ link register save eliminated.
 2272              	.LVL187:
 2273 0000 00F53063 		add	r3, r0, #2816
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DOEPMSK;
 2274              		.loc 1 1093 0
 2275 0004 03EB4111 		add	r1, r3, r1, lsl #5
 2276              	.LVL188:
 2277 0008 8B68     		ldr	r3, [r1, #8]
ARM GAS  /tmp/ccgxsq1r.s 			page 67


 2278              	.LVL189:
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
 2279              		.loc 1 1094 0
 2280 000a 00F50060 		add	r0, r0, #2048
 2281              	.LVL190:
 2282 000e 4069     		ldr	r0, [r0, #20]
 2283              	.LVL191:
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2284              		.loc 1 1096 0
 2285 0010 1840     		ands	r0, r0, r3
 2286              	.LVL192:
 2287 0012 7047     		bx	lr
 2288              		.cfi_endproc
 2289              	.LFE149:
 2291              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 2292              		.align	2
 2293              		.global	USB_ReadDevInEPInterrupt
 2294              		.thumb
 2295              		.thumb_func
 2297              	USB_ReadDevInEPInterrupt:
 2298              	.LFB150:
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v, msk, emp;
 2299              		.loc 1 1106 0
 2300              		.cfi_startproc
 2301              		@ args = 0, pretend = 0, frame = 0
 2302              		@ frame_needed = 0, uses_anonymous_args = 0
 2303              		@ link register save eliminated.
 2304              	.LVL193:
 2305 0000 10B4     		push	{r4}
 2306              	.LCFI27:
 2307              		.cfi_def_cfa_offset 4
 2308              		.cfi_offset 4, -4
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 2309              		.loc 1 1109 0
 2310 0002 D0F81048 		ldr	r4, [r0, #2064]
 2311              	.LVL194:
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> epnum) & 0x1U) << 7U;
 2312              		.loc 1 1110 0
 2313 0006 D0F83438 		ldr	r3, [r0, #2100]
 2314              	.LVL195:
 2315 000a 00EB4110 		add	r0, r0, r1, lsl #5
 2316              	.LVL196:
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
 2317              		.loc 1 1112 0
 2318 000e D0F80809 		ldr	r0, [r0, #2312]
 2319              	.LVL197:
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx_INEP(epnum)->DIEPINT & msk;
 2320              		.loc 1 1111 0
 2321 0012 CB40     		lsrs	r3, r3, r1
 2322              	.LVL198:
 2323 0014 DB01     		lsls	r3, r3, #7
 2324 0016 DBB2     		uxtb	r3, r3
 2325 0018 2343     		orrs	r3, r3, r4
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2326              		.loc 1 1114 0
 2327 001a 1840     		ands	r0, r0, r3
 2328 001c 5DF8044B 		ldr	r4, [sp], #4
ARM GAS  /tmp/ccgxsq1r.s 			page 68


 2329              	.LCFI28:
 2330              		.cfi_restore 4
 2331              		.cfi_def_cfa_offset 0
 2332 0020 7047     		bx	lr
 2333              		.cfi_endproc
 2334              	.LFE150:
 2336 0022 00BF     		.section	.text.USB_ClearInterrupts,"ax",%progbits
 2337              		.align	2
 2338              		.global	USB_ClearInterrupts
 2339              		.thumb
 2340              		.thumb_func
 2342              	USB_ClearInterrupts:
 2343              	.LFB151:
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt; 
 2344              		.loc 1 1123 0
 2345              		.cfi_startproc
 2346              		@ args = 0, pretend = 0, frame = 0
 2347              		@ frame_needed = 0, uses_anonymous_args = 0
 2348              		@ link register save eliminated.
 2349              	.LVL199:
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2350              		.loc 1 1124 0
 2351 0000 4369     		ldr	r3, [r0, #20]
 2352 0002 1943     		orrs	r1, r1, r3
 2353              	.LVL200:
 2354 0004 4161     		str	r1, [r0, #20]
 2355 0006 7047     		bx	lr
 2356              		.cfi_endproc
 2357              	.LFE151:
 2359              		.section	.text.USB_GetMode,"ax",%progbits
 2360              		.align	2
 2361              		.global	USB_GetMode
 2362              		.thumb
 2363              		.thumb_func
 2365              	USB_GetMode:
 2366              	.LFB152:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS ) & 0x1U);
 2367              		.loc 1 1136 0
 2368              		.cfi_startproc
 2369              		@ args = 0, pretend = 0, frame = 0
 2370              		@ frame_needed = 0, uses_anonymous_args = 0
 2371              		@ link register save eliminated.
 2372              	.LVL201:
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2373              		.loc 1 1137 0
 2374 0000 4069     		ldr	r0, [r0, #20]
 2375              	.LVL202:
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2376              		.loc 1 1138 0
 2377 0002 00F00100 		and	r0, r0, #1
 2378 0006 7047     		bx	lr
 2379              		.cfi_endproc
 2380              	.LFE152:
 2382              		.section	.text.USB_ActivateSetup,"ax",%progbits
 2383              		.align	2
 2384              		.global	USB_ActivateSetup
 2385              		.thumb
ARM GAS  /tmp/ccgxsq1r.s 			page 69


 2386              		.thumb_func
 2388              	USB_ActivateSetup:
 2389              	.LFB153:
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
 2390              		.loc 1 1147 0
 2391              		.cfi_startproc
 2392              		@ args = 0, pretend = 0, frame = 0
 2393              		@ frame_needed = 0, uses_anonymous_args = 0
 2394              		@ link register save eliminated.
 2395              	.LVL203:
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2396              		.loc 1 1149 0
 2397 0000 D0F80039 		ldr	r3, [r0, #2304]
 2398 0004 23F4FF63 		bic	r3, r3, #2040
 2399 0008 23F00703 		bic	r3, r3, #7
 2400 000c C0F80039 		str	r3, [r0, #2304]
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2401              		.loc 1 1151 0
 2402 0010 00F50063 		add	r3, r0, #2048
 2403 0014 9A68     		ldr	r2, [r3, #8]
 2404 0016 02F00602 		and	r2, r2, #6
 2405 001a 042A     		cmp	r2, #4
 2406 001c 05D1     		bne	.L166
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2407              		.loc 1 1153 0
 2408 001e D0F80029 		ldr	r2, [r0, #2304]
 2409 0022 42F00302 		orr	r2, r2, #3
 2410 0026 C0F80029 		str	r2, [r0, #2304]
 2411              	.L166:
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2412              		.loc 1 1155 0
 2413 002a 5A68     		ldr	r2, [r3, #4]
 2414 002c 42F48072 		orr	r2, r2, #256
 2415 0030 5A60     		str	r2, [r3, #4]
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2416              		.loc 1 1158 0
 2417 0032 0020     		movs	r0, #0
 2418              	.LVL204:
 2419 0034 7047     		bx	lr
 2420              		.cfi_endproc
 2421              	.LFE153:
 2423 0036 00BF     		.section	.text.USB_EP0_OutStart,"ax",%progbits
 2424              		.align	2
 2425              		.global	USB_EP0_OutStart
 2426              		.thumb
 2427              		.thumb_func
 2429              	USB_EP0_OutStart:
 2430              	.LFB154:
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 2431              		.loc 1 1172 0
 2432              		.cfi_startproc
 2433              		@ args = 0, pretend = 0, frame = 0
 2434              		@ frame_needed = 0, uses_anonymous_args = 0
 2435              		@ link register save eliminated.
 2436              	.LVL205:
 2437 0000 10B4     		push	{r4}
 2438              	.LCFI29:
ARM GAS  /tmp/ccgxsq1r.s 			page 70


 2439              		.cfi_def_cfa_offset 4
 2440              		.cfi_offset 4, -4
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U)) ;
 2441              		.loc 1 1173 0
 2442 0002 0024     		movs	r4, #0
 2443 0004 C0F8104B 		str	r4, [r0, #2832]
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 2444              		.loc 1 1174 0
 2445 0008 D0F8104B 		ldr	r4, [r0, #2832]
 2446 000c 44F40024 		orr	r4, r4, #524288
 2447 0010 C0F8104B 		str	r4, [r0, #2832]
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;  
 2448              		.loc 1 1175 0
 2449 0014 D0F8104B 		ldr	r4, [r0, #2832]
 2450 0018 44F01804 		orr	r4, r4, #24
 2451 001c C0F8104B 		str	r4, [r0, #2832]
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2452              		.loc 1 1176 0
 2453 0020 D0F8104B 		ldr	r4, [r0, #2832]
 2454 0024 44F0C044 		orr	r4, r4, #1610612736
 2455 0028 C0F8104B 		str	r4, [r0, #2832]
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2456              		.loc 1 1178 0
 2457 002c 0129     		cmp	r1, #1
 2458 002e 05D1     		bne	.L168
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 2459              		.loc 1 1180 0
 2460 0030 C0F8142B 		str	r2, [r0, #2836]
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2461              		.loc 1 1182 0
 2462 0034 4FF08023 		mov	r3, #-2147450880
 2463 0038 C0F8003B 		str	r3, [r0, #2816]
 2464              	.L168:
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2465              		.loc 1 1186 0
 2466 003c 0020     		movs	r0, #0
 2467              	.LVL206:
 2468 003e 5DF8044B 		ldr	r4, [sp], #4
 2469              	.LCFI30:
 2470              		.cfi_restore 4
 2471              		.cfi_def_cfa_offset 0
 2472 0042 7047     		bx	lr
 2473              		.cfi_endproc
 2474              	.LFE154:
 2476              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 2477              		.align	2
 2478              		.global	USB_InitFSLSPClkSel
 2479              		.thumb
 2480              		.thumb_func
 2482              	USB_InitFSLSPClkSel:
 2483              	.LFB157:
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers 
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode 
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccgxsq1r.s 			page 71


1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Activate VBUS Sensing B */
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSASEN);
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSBSEN);
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the FS/LS support mode only */
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((cfg.speed == USB_OTG_SPEED_FULL)&&
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      (USBx != USB_OTG_FS))
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS; 
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);  
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10U); /* all Tx FIFOs */
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable VBUS driving */
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_DriveVbus(USBx, 1U);
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(200U);
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(USBx == USB_OTG_FS)
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
ARM GAS  /tmp/ccgxsq1r.s 			page 72


1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U; 
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x60U << 16U)& USB_OTG_NPTXFD) | 0x80U);
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0x40U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U; 
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x100U << 16U)& USB_OTG_NPTXFD) | 0x200U);
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0xE0U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == DISABLE)
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM; 
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM |\
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             |USB_OTG_GINTSTS_DISCINT|\
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the 
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock 
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx , uint8_t freq)
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2484              		.loc 1 1323 0
 2485              		.cfi_startproc
 2486              		@ args = 0, pretend = 0, frame = 0
 2487              		@ frame_needed = 0, uses_anonymous_args = 0
 2488              		@ link register save eliminated.
 2489              	.LVL207:
 2490 0000 10B4     		push	{r4}
 2491              	.LCFI31:
 2492              		.cfi_def_cfa_offset 4
 2493              		.cfi_offset 4, -4
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 2494              		.loc 1 1324 0
 2495 0002 00F58064 		add	r4, r0, #1024
 2496 0006 D0F80034 		ldr	r3, [r0, #1024]
 2497 000a 23F00303 		bic	r3, r3, #3
 2498 000e C0F80034 		str	r3, [r0, #1024]
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (freq & USB_OTG_HCFG_FSLSPCS);
 2499              		.loc 1 1325 0
 2500 0012 D0F80034 		ldr	r3, [r0, #1024]
ARM GAS  /tmp/ccgxsq1r.s 			page 73


 2501 0016 01F00302 		and	r2, r1, #3
 2502 001a 1343     		orrs	r3, r3, r2
 2503 001c C0F80034 		str	r3, [r0, #1024]
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq ==  HCFG_48_MHZ)
 2504              		.loc 1 1327 0
 2505 0020 0129     		cmp	r1, #1
 2506 0022 03D1     		bne	.L171
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 2507              		.loc 1 1329 0
 2508 0024 4BF68033 		movw	r3, #48000
 2509 0028 6360     		str	r3, [r4, #4]
 2510 002a 04E0     		b	.L172
 2511              	.L171:
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq ==  HCFG_6_MHZ)
 2512              		.loc 1 1331 0
 2513 002c 0229     		cmp	r1, #2
 2514 002e 02D1     		bne	.L172
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 2515              		.loc 1 1333 0
 2516 0030 41F27073 		movw	r3, #6000
 2517 0034 6360     		str	r3, [r4, #4]
 2518              	.L172:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2519              		.loc 1 1336 0
 2520 0036 0020     		movs	r0, #0
 2521              	.LVL208:
 2522 0038 5DF8044B 		ldr	r4, [sp], #4
 2523              	.LCFI32:
 2524              		.cfi_restore 4
 2525              		.cfi_def_cfa_offset 0
 2526              	.LVL209:
 2527 003c 7047     		bx	lr
 2528              		.cfi_endproc
 2529              	.LFE157:
 2531 003e 00BF     		.section	.text.USB_ResetPort,"ax",%progbits
 2532              		.align	2
 2533              		.global	USB_ResetPort
 2534              		.thumb
 2535              		.thumb_func
 2537              	USB_ResetPort:
 2538              	.LFB158:
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note   (1)The application must wait at least 10 ms
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccgxsq1r.s 			page 74


 2539              		.loc 1 1346 0
 2540              		.cfi_startproc
 2541              		@ args = 0, pretend = 0, frame = 8
 2542              		@ frame_needed = 0, uses_anonymous_args = 0
 2543              	.LVL210:
 2544 0000 10B5     		push	{r4, lr}
 2545              	.LCFI33:
 2546              		.cfi_def_cfa_offset 8
 2547              		.cfi_offset 4, -8
 2548              		.cfi_offset 14, -4
 2549 0002 82B0     		sub	sp, sp, #8
 2550              	.LCFI34:
 2551              		.cfi_def_cfa_offset 16
 2552 0004 0446     		mov	r4, r0
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 2553              		.loc 1 1349 0
 2554 0006 D0F84034 		ldr	r3, [r0, #1088]
 2555 000a 0193     		str	r3, [sp, #4]
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
 2556              		.loc 1 1351 0
 2557 000c 019B     		ldr	r3, [sp, #4]
 2558 000e 23F02E03 		bic	r3, r3, #46
 2559 0012 0193     		str	r3, [sp, #4]
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);  
 2560              		.loc 1 1354 0
 2561 0014 019B     		ldr	r3, [sp, #4]
 2562 0016 43F48073 		orr	r3, r3, #256
 2563 001a C0F84034 		str	r3, [r0, #1088]
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay (10U);                                /* See Note #1 */
 2564              		.loc 1 1355 0
 2565 001e 0A20     		movs	r0, #10
 2566              	.LVL211:
 2567 0020 FFF7FEFF 		bl	HAL_Delay
 2568              	.LVL212:
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0); 
 2569              		.loc 1 1356 0
 2570 0024 019B     		ldr	r3, [sp, #4]
 2571 0026 23F48073 		bic	r3, r3, #256
 2572 002a C4F84034 		str	r3, [r4, #1088]
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2573              		.loc 1 1358 0
 2574 002e 0020     		movs	r0, #0
 2575 0030 02B0     		add	sp, sp, #8
 2576              	.LCFI35:
 2577              		.cfi_def_cfa_offset 8
 2578              		@ sp needed
 2579 0032 10BD     		pop	{r4, pc}
 2580              		.cfi_endproc
 2581              	.LFE158:
 2583              		.section	.text.USB_DriveVbus,"ax",%progbits
 2584              		.align	2
ARM GAS  /tmp/ccgxsq1r.s 			page 75


 2585              		.global	USB_DriveVbus
 2586              		.thumb
 2587              		.thumb_func
 2589              	USB_DriveVbus:
 2590              	.LFB159:
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : VBUS Active 
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : VBUS Inactive
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus (USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2591              		.loc 1 1369 0
 2592              		.cfi_startproc
 2593              		@ args = 0, pretend = 0, frame = 8
 2594              		@ frame_needed = 0, uses_anonymous_args = 0
 2595              		@ link register save eliminated.
 2596              	.LVL213:
 2597 0000 82B0     		sub	sp, sp, #8
 2598              	.LCFI36:
 2599              		.cfi_def_cfa_offset 8
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 2600              		.loc 1 1372 0
 2601 0002 D0F84034 		ldr	r3, [r0, #1088]
 2602 0006 0193     		str	r3, [sp, #4]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
 2603              		.loc 1 1373 0
 2604 0008 019B     		ldr	r3, [sp, #4]
 2605 000a 23F02E03 		bic	r3, r3, #46
 2606 000e 0193     		str	r3, [sp, #4]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                          USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 2607              		.loc 1 1376 0
 2608 0010 019B     		ldr	r3, [sp, #4]
 2609 0012 13F4805F 		tst	r3, #4096
 2610 0016 08D1     		bne	.L177
 2611              		.loc 1 1376 0 is_stmt 0 discriminator 1
 2612 0018 0129     		cmp	r1, #1
 2613 001a 06D1     		bne	.L177
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0); 
 2614              		.loc 1 1378 0 is_stmt 1
 2615 001c 019B     		ldr	r3, [sp, #4]
 2616 001e 43F48053 		orr	r3, r3, #4096
 2617 0022 C0F84034 		str	r3, [r0, #1088]
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 2618              		.loc 1 1380 0
 2619 0026 019B     		ldr	r3, [sp, #4]
 2620 0028 09E0     		b	.L178
ARM GAS  /tmp/ccgxsq1r.s 			page 76


 2621              	.L177:
 2622 002a 019B     		ldr	r3, [sp, #4]
 2623 002c 13F4805F 		tst	r3, #4096
 2624 0030 05D0     		beq	.L178
 2625              		.loc 1 1380 0 is_stmt 0 discriminator 1
 2626 0032 21B9     		cbnz	r1, .L178
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0); 
 2627              		.loc 1 1382 0 is_stmt 1
 2628 0034 019B     		ldr	r3, [sp, #4]
 2629 0036 23F48053 		bic	r3, r3, #4096
 2630 003a C0F84034 		str	r3, [r0, #1088]
 2631              	.L178:
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK; 
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2632              		.loc 1 1385 0
 2633 003e 0020     		movs	r0, #0
 2634              	.LVL214:
 2635 0040 02B0     		add	sp, sp, #8
 2636              	.LCFI37:
 2637              		.cfi_def_cfa_offset 0
 2638              		@ sp needed
 2639 0042 7047     		bx	lr
 2640              		.cfi_endproc
 2641              	.LFE159:
 2643              		.section	.text.USB_HostInit,"ax",%progbits
 2644              		.align	2
 2645              		.global	USB_HostInit
 2646              		.thumb
 2647              		.thumb_func
 2649              	USB_HostInit:
 2650              	.LFB156:
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 2651              		.loc 1 1234 0
 2652              		.cfi_startproc
 2653              		@ args = 56, pretend = 16, frame = 0
 2654              		@ frame_needed = 0, uses_anonymous_args = 0
 2655              	.LVL215:
 2656 0000 84B0     		sub	sp, sp, #16
 2657              	.LCFI38:
 2658              		.cfi_def_cfa_offset 16
 2659 0002 10B5     		push	{r4, lr}
 2660              	.LCFI39:
 2661              		.cfi_def_cfa_offset 24
 2662              		.cfi_offset 4, -24
 2663              		.cfi_offset 14, -20
 2664 0004 0446     		mov	r4, r0
 2665 0006 03A8     		add	r0, sp, #12
 2666              	.LVL216:
 2667 0008 80E80E00 		stmia	r0, {r1, r2, r3}
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2668              		.loc 1 1238 0
 2669 000c 0023     		movs	r3, #0
 2670 000e C4F8003E 		str	r3, [r4, #3584]
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSBSEN);
 2671              		.loc 1 1245 0
ARM GAS  /tmp/ccgxsq1r.s 			page 77


 2672 0012 A36B     		ldr	r3, [r4, #56]
 2673 0014 23F48023 		bic	r3, r3, #262144
 2674 0018 A363     		str	r3, [r4, #56]
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 2675              		.loc 1 1246 0
 2676 001a A36B     		ldr	r3, [r4, #56]
 2677 001c 23F40023 		bic	r3, r3, #524288
 2678 0020 A363     		str	r3, [r4, #56]
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
 2679              		.loc 1 1247 0
 2680 0022 A36B     		ldr	r3, [r4, #56]
 2681 0024 43F40013 		orr	r3, r3, #2097152
 2682 0028 A363     		str	r3, [r4, #56]
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      (USBx != USB_OTG_FS))
 2683              		.loc 1 1251 0
 2684 002a 059B     		ldr	r3, [sp, #20]
 2685 002c 032B     		cmp	r3, #3
 2686 002e 12D1     		bne	.L181
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      (USBx != USB_OTG_FS))
 2687              		.loc 1 1251 0 is_stmt 0 discriminator 1
 2688 0030 B4F1A04F 		cmp	r4, #1342177280
 2689 0034 0FD0     		beq	.L181
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2690              		.loc 1 1254 0 is_stmt 1
 2691 0036 D4F80034 		ldr	r3, [r4, #1024]
 2692 003a 43F00403 		orr	r3, r3, #4
 2693 003e C4F80034 		str	r3, [r4, #1024]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 2694              		.loc 1 1262 0
 2695 0042 2046     		mov	r0, r4
 2696 0044 1021     		movs	r1, #16
 2697 0046 FFF7FEFF 		bl	USB_FlushTxFifo
 2698              	.LVL217:
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2699              		.loc 1 1263 0
 2700 004a 2046     		mov	r0, r4
 2701 004c FFF7FEFF 		bl	USB_FlushRxFifo
 2702              	.LVL218:
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2703              		.loc 1 1266 0
 2704 0050 049B     		ldr	r3, [sp, #16]
 2705 0052 7BB9     		cbnz	r3, .L182
 2706 0054 45E0     		b	.L189
 2707              	.LVL219:
 2708              	.L181:
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2709              		.loc 1 1258 0
 2710 0056 D4F80034 		ldr	r3, [r4, #1024]
 2711 005a 23F00403 		bic	r3, r3, #4
 2712 005e C4F80034 		str	r3, [r4, #1024]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 2713              		.loc 1 1262 0
 2714 0062 2046     		mov	r0, r4
 2715 0064 1021     		movs	r1, #16
 2716 0066 FFF7FEFF 		bl	USB_FlushTxFifo
 2717              	.LVL220:
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccgxsq1r.s 			page 78


 2718              		.loc 1 1263 0
 2719 006a 2046     		mov	r0, r4
 2720 006c FFF7FEFF 		bl	USB_FlushRxFifo
 2721              	.LVL221:
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2722              		.loc 1 1266 0
 2723 0070 049B     		ldr	r3, [sp, #16]
 2724 0072 63B1     		cbz	r3, .L184
 2725              	.L182:
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2726              		.loc 1 1266 0 is_stmt 0 discriminator 3
 2727 0074 0498     		ldr	r0, [sp, #16]
 2728 0076 04F5A063 		add	r3, r4, #1280
 2729 007a 0022     		movs	r2, #0
 2730              	.LVL222:
 2731              	.L185:
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 2732              		.loc 1 1268 0 is_stmt 1 discriminator 3
 2733 007c 4FF0FF31 		mov	r1, #-1
 2734 0080 9960     		str	r1, [r3, #8]
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2735              		.loc 1 1269 0 discriminator 3
 2736 0082 0021     		movs	r1, #0
 2737 0084 D960     		str	r1, [r3, #12]
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2738              		.loc 1 1266 0 discriminator 3
 2739 0086 0132     		adds	r2, r2, #1
 2740              	.LVL223:
 2741 0088 2033     		adds	r3, r3, #32
 2742 008a 9042     		cmp	r0, r2
 2743 008c F6D8     		bhi	.L185
 2744              	.LVL224:
 2745              	.L184:
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2746              		.loc 1 1273 0
 2747 008e 2046     		mov	r0, r4
 2748 0090 0121     		movs	r1, #1
 2749 0092 FFF7FEFF 		bl	USB_DriveVbus
 2750              	.LVL225:
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2751              		.loc 1 1275 0
 2752 0096 C820     		movs	r0, #200
 2753 0098 FFF7FEFF 		bl	HAL_Delay
 2754              	.LVL226:
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2755              		.loc 1 1278 0
 2756 009c 0023     		movs	r3, #0
 2757 009e A361     		str	r3, [r4, #24]
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2758              		.loc 1 1281 0
 2759 00a0 4FF0FF33 		mov	r3, #-1
 2760 00a4 6361     		str	r3, [r4, #20]
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2761              		.loc 1 1283 0
 2762 00a6 B4F1A04F 		cmp	r4, #1342177280
 2763 00aa 0AD1     		bne	.L186
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x60U << 16U)& USB_OTG_NPTXFD) | 0x80U);
ARM GAS  /tmp/ccgxsq1r.s 			page 79


 2764              		.loc 1 1286 0
 2765 00ac 4FF0A043 		mov	r3, #1342177280
 2766 00b0 8022     		movs	r2, #128
 2767 00b2 5A62     		str	r2, [r3, #36]
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0x40U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 2768              		.loc 1 1287 0
 2769 00b4 02F5C002 		add	r2, r2, #6291456
 2770 00b8 9A62     		str	r2, [r3, #40]
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2771              		.loc 1 1288 0
 2772 00ba 154A     		ldr	r2, .L192
 2773 00bc C3F80021 		str	r2, [r3, #256]
 2774 00c0 08E0     		b	.L187
 2775              	.L186:
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x100U << 16U)& USB_OTG_NPTXFD) | 0x200U);
 2776              		.loc 1 1293 0
 2777 00c2 4FF40073 		mov	r3, #512
 2778 00c6 6362     		str	r3, [r4, #36]
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0xE0U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 2779              		.loc 1 1294 0
 2780 00c8 03F18073 		add	r3, r3, #16777216
 2781 00cc A362     		str	r3, [r4, #40]
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2782              		.loc 1 1295 0
 2783 00ce 114B     		ldr	r3, .L192+4
 2784 00d0 C4F80031 		str	r3, [r4, #256]
 2785              	.L187:
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2786              		.loc 1 1299 0
 2787 00d4 069B     		ldr	r3, [sp, #24]
 2788 00d6 8BB9     		cbnz	r3, .L188
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 2789              		.loc 1 1301 0
 2790 00d8 A369     		ldr	r3, [r4, #24]
 2791 00da 43F01003 		orr	r3, r3, #16
 2792 00de A361     		str	r3, [r4, #24]
 2793 00e0 0CE0     		b	.L188
 2794              	.LVL227:
 2795              	.L189:
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2796              		.loc 1 1273 0
 2797 00e2 2046     		mov	r0, r4
 2798 00e4 0121     		movs	r1, #1
 2799 00e6 FFF7FEFF 		bl	USB_DriveVbus
 2800              	.LVL228:
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2801              		.loc 1 1275 0
 2802 00ea C820     		movs	r0, #200
 2803 00ec FFF7FEFF 		bl	HAL_Delay
 2804              	.LVL229:
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2805              		.loc 1 1278 0
 2806 00f0 0023     		movs	r3, #0
 2807 00f2 A361     		str	r3, [r4, #24]
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 2808              		.loc 1 1281 0
 2809 00f4 4FF0FF33 		mov	r3, #-1
ARM GAS  /tmp/ccgxsq1r.s 			page 80


 2810 00f8 6361     		str	r3, [r4, #20]
 2811 00fa E2E7     		b	.L186
 2812              	.LVL230:
 2813              	.L188:
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             |USB_OTG_GINTSTS_DISCINT|\
 2814              		.loc 1 1305 0
 2815 00fc A269     		ldr	r2, [r4, #24]
 2816 00fe 064B     		ldr	r3, .L192+8
 2817 0100 1343     		orrs	r3, r3, r2
 2818 0102 A361     		str	r3, [r4, #24]
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 2819              		.loc 1 1310 0
 2820 0104 0020     		movs	r0, #0
 2821 0106 BDE81040 		pop	{r4, lr}
 2822              	.LCFI40:
 2823              		.cfi_restore 14
 2824              		.cfi_restore 4
 2825              		.cfi_def_cfa_offset 16
 2826              	.LVL231:
 2827 010a 04B0     		add	sp, sp, #16
 2828              	.LCFI41:
 2829              		.cfi_def_cfa_offset 0
 2830 010c 7047     		bx	lr
 2831              	.L193:
 2832 010e 00BF     		.align	2
 2833              	.L192:
 2834 0110 E0004000 		.word	4194528
 2835 0114 0003E000 		.word	14680832
 2836 0118 080020A3 		.word	-1558183928
 2837              		.cfi_endproc
 2838              	.LFE156:
 2840              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 2841              		.align	2
 2842              		.global	USB_GetHostSpeed
 2843              		.thumb
 2844              		.thumb_func
 2846              	USB_GetHostSpeed:
 2847              	.LFB160:
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed (USB_OTG_GlobalTypeDef *USBx)
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2848              		.loc 1 1397 0
 2849              		.cfi_startproc
 2850              		@ args = 0, pretend = 0, frame = 8
 2851              		@ frame_needed = 0, uses_anonymous_args = 0
 2852              		@ link register save eliminated.
 2853              	.LVL232:
 2854 0000 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccgxsq1r.s 			page 81


 2855              	.LCFI42:
 2856              		.cfi_def_cfa_offset 8
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 2857              		.loc 1 1400 0
 2858 0002 D0F84034 		ldr	r3, [r0, #1088]
 2859 0006 0193     		str	r3, [sp, #4]
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17U);
 2860              		.loc 1 1401 0
 2861 0008 0198     		ldr	r0, [sp, #4]
 2862              	.LVL233:
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2863              		.loc 1 1402 0
 2864 000a C0F34140 		ubfx	r0, r0, #17, #2
 2865 000e 02B0     		add	sp, sp, #8
 2866              	.LCFI43:
 2867              		.cfi_def_cfa_offset 0
 2868              		@ sp needed
 2869 0010 7047     		bx	lr
 2870              		.cfi_endproc
 2871              	.LFE160:
 2873 0012 00BF     		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 2874              		.align	2
 2875              		.global	USB_GetCurrentFrame
 2876              		.thumb
 2877              		.thumb_func
 2879              	USB_GetCurrentFrame:
 2880              	.LFB161:
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame (USB_OTG_GlobalTypeDef *USBx)
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2881              		.loc 1 1410 0
 2882              		.cfi_startproc
 2883              		@ args = 0, pretend = 0, frame = 0
 2884              		@ frame_needed = 0, uses_anonymous_args = 0
 2885              		@ link register save eliminated.
 2886              	.LVL234:
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 2887              		.loc 1 1411 0
 2888 0000 00F58060 		add	r0, r0, #1024
 2889              	.LVL235:
 2890 0004 8068     		ldr	r0, [r0, #8]
 2891              	.LVL236:
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2892              		.loc 1 1412 0
 2893 0006 80B2     		uxth	r0, r0
 2894 0008 7047     		bx	lr
 2895              		.cfi_endproc
 2896              	.LFE161:
 2898 000a 00BF     		.section	.text.USB_HC_Init,"ax",%progbits
 2899              		.align	2
ARM GAS  /tmp/ccgxsq1r.s 			page 82


 2900              		.global	USB_HC_Init
 2901              		.thumb
 2902              		.thumb_func
 2904              	USB_HC_Init:
 2905              	.LFB162:
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,  
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ch_num,
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum,
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t dev_address,
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t speed,
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type,
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint16_t mps)
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2906              		.loc 1 1445 0
 2907              		.cfi_startproc
 2908              		@ args = 12, pretend = 0, frame = 0
 2909              		@ frame_needed = 0, uses_anonymous_args = 0
 2910              	.LVL237:
 2911 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2912              	.LCFI44:
 2913              		.cfi_def_cfa_offset 20
 2914              		.cfi_offset 4, -20
 2915              		.cfi_offset 5, -16
 2916              		.cfi_offset 6, -12
 2917              		.cfi_offset 7, -8
 2918              		.cfi_offset 14, -4
 2919 0002 8C46     		mov	ip, r1
 2920 0004 9DF81840 		ldrb	r4, [sp, #24]	@ zero_extendqisi2
 2921 0008 00F5A066 		add	r6, r0, #1280
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCINT = 0xFFFFFFFFU;
ARM GAS  /tmp/ccgxsq1r.s 			page 83


 2922              		.loc 1 1448 0
 2923 000c 4D01     		lsls	r5, r1, #5
 2924 000e 7719     		adds	r7, r6, r5
 2925 0010 4FF0FF31 		mov	r1, #-1
 2926              	.LVL238:
 2927 0014 B960     		str	r1, [r7, #8]
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type) 
 2928              		.loc 1 1451 0
 2929 0016 032C     		cmp	r4, #3
 2930 0018 2BD8     		bhi	.L198
 2931 001a DFE804F0 		tbb	[pc, r4]
 2932              	.L200:
 2933 001e 02       		.byte	(.L199-.L200)/2
 2934 001f 20       		.byte	(.L201-.L200)/2
 2935 0020 02       		.byte	(.L199-.L200)/2
 2936 0021 15       		.byte	(.L202-.L200)/2
 2937              		.p2align 1
 2938              	.L199:
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_CTRL:
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_BULK:
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 2939              		.loc 1 1456 0
 2940 0022 40F29D41 		movw	r1, #1181
 2941 0026 F960     		str	r1, [r7, #12]
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM ;
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 2942              		.loc 1 1463 0
 2943 0028 12F0800F 		tst	r2, #128
 2944 002c 04D0     		beq	.L203
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 2945              		.loc 1 1465 0
 2946 002e F968     		ldr	r1, [r7, #12]
 2947 0030 41F48071 		orr	r1, r1, #256
 2948 0034 F960     		str	r1, [r7, #12]
 2949 0036 1CE0     		b	.L198
 2950              	.L203:
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if(USBx != USB_OTG_FS)
 2951              		.loc 1 1469 0
 2952 0038 B0F1A04F 		cmp	r0, #1342177280
 2953 003c 19D0     		beq	.L198
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
 2954              		.loc 1 1471 0
 2955 003e F968     		ldr	r1, [r7, #12]
ARM GAS  /tmp/ccgxsq1r.s 			page 84


 2956 0040 41F06001 		orr	r1, r1, #96
 2957 0044 F960     		str	r1, [r7, #12]
 2958 0046 14E0     		b	.L198
 2959              	.L202:
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_INTR:
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 2960              		.loc 1 1478 0
 2961 0048 40F29D61 		movw	r1, #1693
 2962 004c F960     		str	r1, [r7, #12]
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM   |\
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;    
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 2963              		.loc 1 1486 0
 2964 004e 12F0800F 		tst	r2, #128
 2965 0052 0ED0     		beq	.L198
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 2966              		.loc 1 1488 0
 2967 0054 F968     		ldr	r1, [r7, #12]
 2968 0056 41F48071 		orr	r1, r1, #256
 2969 005a F960     		str	r1, [r7, #12]
 2970 005c 09E0     		b	.L198
 2971              	.L201:
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_ISOC:
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 2972              		.loc 1 1494 0
 2973 005e 40F22521 		movw	r1, #549
 2974 0062 F960     		str	r1, [r7, #12]
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_ACKM   |\
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;   
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 2975              		.loc 1 1499 0
 2976 0064 12F0800F 		tst	r2, #128
 2977 0068 03D0     		beq	.L198
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);      
 2978              		.loc 1 1501 0
 2979 006a F968     		ldr	r1, [r7, #12]
 2980 006c 41F4C071 		orr	r1, r1, #384
 2981 0070 F960     		str	r1, [r7, #12]
 2982              	.L198:
ARM GAS  /tmp/ccgxsq1r.s 			page 85


1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= (1 << ch_num);
 2983              		.loc 1 1507 0
 2984 0072 D0F81874 		ldr	r7, [r0, #1048]
 2985 0076 0121     		movs	r1, #1
 2986 0078 01FA0CF1 		lsl	r1, r1, ip
 2987 007c 3943     		orrs	r1, r1, r7
 2988 007e C0F81814 		str	r1, [r0, #1048]
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 2989              		.loc 1 1510 0
 2990 0082 8169     		ldr	r1, [r0, #24]
 2991 0084 41F00071 		orr	r1, r1, #33554432
 2992 0088 8161     		str	r1, [r0, #24]
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = (((dev_address << 22U) & USB_OTG_HCCHAR_DAD)  |\
 2993              		.loc 1 1513 0
 2994 008a 9B05     		lsls	r3, r3, #22
 2995              	.LVL239:
 2996 008c 03F0FE50 		and	r0, r3, #532676608
 2997              	.LVL240:
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 2998              		.loc 1 1514 0
 2999 0090 D302     		lsls	r3, r2, #11
 3000 0092 03F4F041 		and	r1, r3, #30720
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((((epnum & 0x80U) == 0x80U)<< 15U) & USB_OTG_HCCHAR_EPDIR)|\
 3001              		.loc 1 1515 0
 3002 0096 12F0800F 		tst	r2, #128
 3003 009a 02D1     		bne	.L207
 3004 009c 4FF0000E 		mov	lr, #0
 3005 00a0 01E0     		b	.L204
 3006              	.L207:
 3007 00a2 4FF4004E 		mov	lr, #32768
 3008              	.L204:
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((speed == USB_OTG_SPEED_LOW)<< 17U) & USB_OTG_HCCHAR_LSDEV)|\
 3009              		.loc 1 1516 0
 3010 00a6 9DF81430 		ldrb	r3, [sp, #20]	@ zero_extendqisi2
 3011 00aa 022B     		cmp	r3, #2
 3012 00ac 01D0     		beq	.L208
 3013 00ae 0027     		movs	r7, #0
 3014 00b0 01E0     		b	.L205
 3015              	.L208:
 3016 00b2 4FF40037 		mov	r7, #131072
 3017              	.L205:
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((ep_type << 18U) & USB_OTG_HCCHAR_EPTYP)|\
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (mps & USB_OTG_HCCHAR_MPSIZ));
 3018              		.loc 1 1518 0
 3019 00b6 BDF81C20 		ldrh	r2, [sp, #28]
 3020              	.LVL241:
 3021 00ba C2F30A02 		ubfx	r2, r2, #0, #11
 3022 00be 40EA0203 		orr	r3, r0, r2
ARM GAS  /tmp/ccgxsq1r.s 			page 86


 3023 00c2 0B43     		orrs	r3, r3, r1
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((ep_type << 18U) & USB_OTG_HCCHAR_EPTYP)|\
 3024              		.loc 1 1517 0
 3025 00c4 A204     		lsls	r2, r4, #18
 3026 00c6 02F44022 		and	r2, r2, #786432
 3027 00ca 1343     		orrs	r3, r3, r2
 3028 00cc 43EA0E03 		orr	r3, r3, lr
 3029 00d0 3B43     		orrs	r3, r3, r7
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 3030              		.loc 1 1513 0
 3031 00d2 7351     		str	r3, [r6, r5]
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
 3032              		.loc 1 1520 0
 3033 00d4 032C     		cmp	r4, #3
 3034 00d6 03D1     		bne	.L206
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
 3035              		.loc 1 1522 0
 3036 00d8 7359     		ldr	r3, [r6, r5]
 3037 00da 43F00053 		orr	r3, r3, #536870912
 3038 00de 7351     		str	r3, [r6, r5]
 3039              	.L206:
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK; 
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3040              		.loc 1 1526 0
 3041 00e0 0020     		movs	r0, #0
 3042 00e2 F0BD     		pop	{r4, r5, r6, r7, pc}
 3043              		.cfi_endproc
 3044              	.LFE162:
 3046              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 3047              		.align	2
 3048              		.global	USB_HC_ReadInterrupt
 3049              		.thumb
 3050              		.thumb_func
 3052              	USB_HC_ReadInterrupt:
 3053              	.LFB164:
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined   (__CC_ARM) /*!< ARM Compiler */
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #pragma O0
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #elif defined (__GNUC__) /*!< GNU Compiler */
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #pragma GCC optimize ("O0")
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* __CC_ARM */
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccgxsq1r.s 			page 87


1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe = 0; 
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words = 0;   
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets = 0;
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256;
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx != USB_OTG_FS) && (hc->speed == USB_OTG_SPEED_HIGH))
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if((dma == 0) && (hc->do_ping == 1U))
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_DoPing(USBx, hc->ch_num);
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if(dma == 1)
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc->ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (hc->xfer_len + hc->max_packet - 1U) / hc->max_packet;
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = num_packets * hc->max_packet;
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1;
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in)
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->xfer_len = num_packets * hc->max_packet;
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCTSIZ = (((hc->xfer_len) & USB_OTG_HCTSIZ_XFRSIZ)) |\
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (((hc->data_pid) << 29U) & USB_OTG_HCTSIZ_DPID);
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma)
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc->ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (USBx_HOST->HFNUM & 0x01) ? 0 : 1;
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR |= (is_oddframe << 29);
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(hc->ch_num)->HCCHAR;
ARM GAS  /tmp/ccgxsq1r.s 			page 88


1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR = tmpreg;
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0) /* Slave mode */
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {  
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       switch(hc->ep_type) 
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Non periodic transfer */
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_BULK:
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (hc->xfer_len + 3) / 4;
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if(len_words > (USBx->HNPTXSTS & 0xFFFF))
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_INTR:
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (hc->xfer_len + 3) / 4;
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if(len_words > (USBx_HOST->HPTXSTS & 0xFFFF)) /* split the transfer */
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;          
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       default:
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Write packet into the Tx FIFO. */
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, hc->xfer_len, 0);
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt (USB_OTG_GlobalTypeDef *USBx)
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3054              		.loc 1 1655 0
 3055              		.cfi_startproc
 3056              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccgxsq1r.s 			page 89


 3057              		@ frame_needed = 1, uses_anonymous_args = 0
 3058              		@ link register save eliminated.
 3059              	.LVL242:
 3060 0000 80B4     		push	{r7}
 3061              	.LCFI45:
 3062              		.cfi_def_cfa_offset 4
 3063              		.cfi_offset 7, -4
 3064 0002 83B0     		sub	sp, sp, #12
 3065              	.LCFI46:
 3066              		.cfi_def_cfa_offset 16
 3067 0004 00AF     		add	r7, sp, #0
 3068              	.LCFI47:
 3069              		.cfi_def_cfa_register 7
 3070 0006 7860     		str	r0, [r7, #4]
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 3071              		.loc 1 1656 0
 3072 0008 7B68     		ldr	r3, [r7, #4]
 3073 000a 03F58063 		add	r3, r3, #1024
 3074 000e 5B69     		ldr	r3, [r3, #20]
 3075 0010 9BB2     		uxth	r3, r3
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3076              		.loc 1 1657 0
 3077 0012 1846     		mov	r0, r3
 3078              	.LVL243:
 3079 0014 0C37     		adds	r7, r7, #12
 3080              	.LCFI48:
 3081              		.cfi_def_cfa_offset 4
 3082              	.LVL244:
 3083 0016 BD46     		mov	sp, r7
 3084              	.LCFI49:
 3085              		.cfi_def_cfa_register 13
 3086              		@ sp needed
 3087 0018 5DF8047B 		ldr	r7, [sp], #4
 3088              	.LCFI50:
 3089              		.cfi_restore 7
 3090              		.cfi_def_cfa_offset 0
 3091              	.LVL245:
 3092 001c 7047     		bx	lr
 3093              		.cfi_endproc
 3094              	.LFE164:
 3096 001e 00BF     		.section	.text.USB_HC_Halt,"ax",%progbits
 3097              		.align	2
 3098              		.global	USB_HC_Halt
 3099              		.thumb
 3100              		.thumb_func
 3102              	USB_HC_Halt:
 3103              	.LFB165:
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx , uint8_t hc_num)
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccgxsq1r.s 			page 90


 3104              		.loc 1 1667 0
 3105              		.cfi_startproc
 3106              		@ args = 0, pretend = 0, frame = 16
 3107              		@ frame_needed = 1, uses_anonymous_args = 0
 3108              		@ link register save eliminated.
 3109              	.LVL246:
 3110 0000 80B4     		push	{r7}
 3111              	.LCFI51:
 3112              		.cfi_def_cfa_offset 4
 3113              		.cfi_offset 7, -4
 3114 0002 85B0     		sub	sp, sp, #20
 3115              	.LCFI52:
 3116              		.cfi_def_cfa_offset 24
 3117 0004 00AF     		add	r7, sp, #0
 3118              	.LCFI53:
 3119              		.cfi_def_cfa_register 7
 3120 0006 7860     		str	r0, [r7, #4]
 3121 0008 0B46     		mov	r3, r1
 3122 000a FB70     		strb	r3, [r7, #3]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 3123              		.loc 1 1668 0
 3124 000c 0023     		movs	r3, #0
 3125 000e FB60     		str	r3, [r7, #12]
 3126              	.LVL247:
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((((USBx_HC(hc_num)->HCCHAR) & USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_CTRL) || (((((USBx_HC(h
 3127              		.loc 1 1671 0
 3128 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3129              	.LVL248:
 3130 0012 5A01     		lsls	r2, r3, #5
 3131 0014 7B68     		ldr	r3, [r7, #4]
 3132 0016 1344     		add	r3, r3, r2
 3133 0018 03F5A063 		add	r3, r3, #1280
 3134 001c 1B68     		ldr	r3, [r3]
 3135 001e 03F44023 		and	r3, r3, #786432
 3136 0022 9B0C     		lsrs	r3, r3, #18
 3137 0024 002B     		cmp	r3, #0
 3138 0026 0BD0     		beq	.L213
 3139              		.loc 1 1671 0 is_stmt 0 discriminator 1
 3140 0028 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3141 002a 5A01     		lsls	r2, r3, #5
 3142 002c 7B68     		ldr	r3, [r7, #4]
 3143 002e 1344     		add	r3, r3, r2
 3144 0030 03F5A063 		add	r3, r3, #1280
 3145 0034 1B68     		ldr	r3, [r3]
 3146 0036 03F44023 		and	r3, r3, #786432
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
 3147              		.loc 1 1672 0 is_stmt 1 discriminator 1
 3148 003a 9B0C     		lsrs	r3, r3, #18
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
 3149              		.loc 1 1671 0 discriminator 1
 3150 003c 022B     		cmp	r3, #2
 3151 003e 5ED1     		bne	.L214
 3152              	.L213:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
ARM GAS  /tmp/ccgxsq1r.s 			page 91


 3153              		.loc 1 1674 0
 3154 0040 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3155 0042 5A01     		lsls	r2, r3, #5
 3156 0044 7B68     		ldr	r3, [r7, #4]
 3157 0046 1344     		add	r3, r3, r2
 3158 0048 03F5A063 		add	r3, r3, #1280
 3159 004c 1946     		mov	r1, r3
 3160              	.LVL249:
 3161 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3162 0050 5A01     		lsls	r2, r3, #5
 3163 0052 7B68     		ldr	r3, [r7, #4]
 3164 0054 1344     		add	r3, r3, r2
 3165 0056 03F5A063 		add	r3, r3, #1280
 3166 005a 1B68     		ldr	r3, [r3]
 3167 005c 43F08043 		orr	r3, r3, #1073741824
 3168 0060 0B60     		str	r3, [r1]
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->HNPTXSTS & 0xFF0000U) == 0U)
 3169              		.loc 1 1676 0
 3170 0062 7B68     		ldr	r3, [r7, #4]
 3171 0064 DB6A     		ldr	r3, [r3, #44]
 3172 0066 03F47F03 		and	r3, r3, #16711680
 3173 006a 002B     		cmp	r3, #0
 3174 006c 34D1     		bne	.L215
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 3175              		.loc 1 1678 0
 3176 006e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3177 0070 5A01     		lsls	r2, r3, #5
 3178 0072 7B68     		ldr	r3, [r7, #4]
 3179 0074 1344     		add	r3, r3, r2
 3180 0076 03F5A063 		add	r3, r3, #1280
 3181 007a 1946     		mov	r1, r3
 3182 007c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3183 007e 5A01     		lsls	r2, r3, #5
 3184 0080 7B68     		ldr	r3, [r7, #4]
 3185 0082 1344     		add	r3, r3, r2
 3186 0084 03F5A063 		add	r3, r3, #1280
 3187 0088 1B68     		ldr	r3, [r3]
 3188 008a 23F00043 		bic	r3, r3, #-2147483648
 3189 008e 0B60     		str	r3, [r1]
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;  
 3190              		.loc 1 1679 0
 3191 0090 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3192 0092 5A01     		lsls	r2, r3, #5
 3193 0094 7B68     		ldr	r3, [r7, #4]
 3194 0096 1344     		add	r3, r3, r2
 3195 0098 03F5A063 		add	r3, r3, #1280
 3196 009c 1946     		mov	r1, r3
 3197 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3198 00a0 5A01     		lsls	r2, r3, #5
 3199 00a2 7B68     		ldr	r3, [r7, #4]
 3200 00a4 1344     		add	r3, r3, r2
 3201 00a6 03F5A063 		add	r3, r3, #1280
 3202 00aa 1B68     		ldr	r3, [r3]
 3203 00ac 43F00043 		orr	r3, r3, #-2147483648
 3204 00b0 0B60     		str	r3, [r1]
ARM GAS  /tmp/ccgxsq1r.s 			page 92


 3205              	.L218:
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do 
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U) 
 3206              		.loc 1 1682 0
 3207 00b2 FB68     		ldr	r3, [r7, #12]
 3208 00b4 0133     		adds	r3, r3, #1
 3209 00b6 FB60     		str	r3, [r7, #12]
 3210              	.LVL250:
 3211 00b8 FB68     		ldr	r3, [r7, #12]
 3212 00ba B3F57A7F 		cmp	r3, #1000
 3213 00be 01D9     		bls	.L216
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3214              		.loc 1 1684 0
 3215 00c0 00BF     		nop
 3216 00c2 1BE0     		b	.L219
 3217              	.L216:
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } 
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);     
 3218              		.loc 1 1687 0
 3219 00c4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3220              	.LVL251:
 3221 00c6 5A01     		lsls	r2, r3, #5
 3222 00c8 7B68     		ldr	r3, [r7, #4]
 3223 00ca 1344     		add	r3, r3, r2
 3224 00cc 03F5A063 		add	r3, r3, #1280
 3225 00d0 1B68     		ldr	r3, [r3]
 3226 00d2 002B     		cmp	r3, #0
 3227 00d4 EDDB     		blt	.L218
 3228 00d6 11E0     		b	.L219
 3229              	.L215:
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
 3230              		.loc 1 1691 0
 3231 00d8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3232 00da 5A01     		lsls	r2, r3, #5
 3233 00dc 7B68     		ldr	r3, [r7, #4]
 3234 00de 1344     		add	r3, r3, r2
 3235 00e0 03F5A063 		add	r3, r3, #1280
 3236 00e4 1946     		mov	r1, r3
 3237 00e6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3238 00e8 5A01     		lsls	r2, r3, #5
 3239 00ea 7B68     		ldr	r3, [r7, #4]
 3240 00ec 1344     		add	r3, r3, r2
 3241 00ee 03F5A063 		add	r3, r3, #1280
 3242 00f2 1B68     		ldr	r3, [r3]
 3243 00f4 43F00043 		orr	r3, r3, #-2147483648
 3244 00f8 0B60     		str	r3, [r1]
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3245              		.loc 1 1676 0
 3246 00fa 5EE0     		b	.L220
 3247              	.L219:
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/ccgxsq1r.s 			page 93


 3248              		.loc 1 1676 0 is_stmt 0 discriminator 2
 3249 00fc 5DE0     		b	.L220
 3250              	.LVL252:
 3251              	.L214:
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 3252              		.loc 1 1696 0 is_stmt 1
 3253 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3254 0100 5A01     		lsls	r2, r3, #5
 3255 0102 7B68     		ldr	r3, [r7, #4]
 3256 0104 1344     		add	r3, r3, r2
 3257 0106 03F5A063 		add	r3, r3, #1280
 3258 010a 1946     		mov	r1, r3
 3259              	.LVL253:
 3260 010c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3261 010e 5A01     		lsls	r2, r3, #5
 3262 0110 7B68     		ldr	r3, [r7, #4]
 3263 0112 1344     		add	r3, r3, r2
 3264 0114 03F5A063 		add	r3, r3, #1280
 3265 0118 1B68     		ldr	r3, [r3]
 3266 011a 43F08043 		orr	r3, r3, #1073741824
 3267 011e 0B60     		str	r3, [r1]
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & 0xFFFFU) == 0U)
 3268              		.loc 1 1698 0
 3269 0120 7B68     		ldr	r3, [r7, #4]
 3270 0122 03F58063 		add	r3, r3, #1024
 3271 0126 1B69     		ldr	r3, [r3, #16]
 3272 0128 9BB2     		uxth	r3, r3
 3273 012a 002B     		cmp	r3, #0
 3274 012c 34D1     		bne	.L221
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 3275              		.loc 1 1700 0
 3276 012e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3277 0130 5A01     		lsls	r2, r3, #5
 3278 0132 7B68     		ldr	r3, [r7, #4]
 3279 0134 1344     		add	r3, r3, r2
 3280 0136 03F5A063 		add	r3, r3, #1280
 3281 013a 1946     		mov	r1, r3
 3282 013c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3283 013e 5A01     		lsls	r2, r3, #5
 3284 0140 7B68     		ldr	r3, [r7, #4]
 3285 0142 1344     		add	r3, r3, r2
 3286 0144 03F5A063 		add	r3, r3, #1280
 3287 0148 1B68     		ldr	r3, [r3]
 3288 014a 23F00043 		bic	r3, r3, #-2147483648
 3289 014e 0B60     		str	r3, [r1]
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;  
 3290              		.loc 1 1701 0
 3291 0150 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3292 0152 5A01     		lsls	r2, r3, #5
 3293 0154 7B68     		ldr	r3, [r7, #4]
 3294 0156 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccgxsq1r.s 			page 94


 3295 0158 03F5A063 		add	r3, r3, #1280
 3296 015c 1946     		mov	r1, r3
 3297 015e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3298 0160 5A01     		lsls	r2, r3, #5
 3299 0162 7B68     		ldr	r3, [r7, #4]
 3300 0164 1344     		add	r3, r3, r2
 3301 0166 03F5A063 		add	r3, r3, #1280
 3302 016a 1B68     		ldr	r3, [r3]
 3303 016c 43F00043 		orr	r3, r3, #-2147483648
 3304 0170 0B60     		str	r3, [r1]
 3305              	.L224:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U) 
 3306              		.loc 1 1704 0
 3307 0172 FB68     		ldr	r3, [r7, #12]
 3308 0174 0133     		adds	r3, r3, #1
 3309 0176 FB60     		str	r3, [r7, #12]
 3310              	.LVL254:
 3311 0178 FB68     		ldr	r3, [r7, #12]
 3312 017a B3F57A7F 		cmp	r3, #1000
 3313 017e 01D9     		bls	.L222
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 3314              		.loc 1 1706 0
 3315 0180 00BF     		nop
 3316 0182 1AE0     		b	.L220
 3317              	.L222:
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } 
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);     
 3318              		.loc 1 1709 0
 3319 0184 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3320              	.LVL255:
 3321 0186 5A01     		lsls	r2, r3, #5
 3322 0188 7B68     		ldr	r3, [r7, #4]
 3323 018a 1344     		add	r3, r3, r2
 3324 018c 03F5A063 		add	r3, r3, #1280
 3325 0190 1B68     		ldr	r3, [r3]
 3326 0192 002B     		cmp	r3, #0
 3327 0194 EDDB     		blt	.L224
 3328 0196 10E0     		b	.L220
 3329              	.L221:
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
 3330              		.loc 1 1713 0
 3331 0198 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3332 019a 5A01     		lsls	r2, r3, #5
 3333 019c 7B68     		ldr	r3, [r7, #4]
 3334 019e 1344     		add	r3, r3, r2
 3335 01a0 03F5A063 		add	r3, r3, #1280
 3336 01a4 1946     		mov	r1, r3
 3337 01a6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3338 01a8 5A01     		lsls	r2, r3, #5
 3339 01aa 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccgxsq1r.s 			page 95


 3340 01ac 1344     		add	r3, r3, r2
 3341 01ae 03F5A063 		add	r3, r3, #1280
 3342 01b2 1B68     		ldr	r3, [r3]
 3343 01b4 43F00043 		orr	r3, r3, #-2147483648
 3344 01b8 0B60     		str	r3, [r1]
 3345              	.L220:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3346              		.loc 1 1717 0
 3347 01ba 0023     		movs	r3, #0
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3348              		.loc 1 1718 0
 3349 01bc 1846     		mov	r0, r3
 3350              	.LVL256:
 3351 01be 1437     		adds	r7, r7, #20
 3352              	.LCFI54:
 3353              		.cfi_def_cfa_offset 4
 3354 01c0 BD46     		mov	sp, r7
 3355              	.LCFI55:
 3356              		.cfi_def_cfa_register 13
 3357              	.LVL257:
 3358              		@ sp needed
 3359 01c2 5DF8047B 		ldr	r7, [sp], #4
 3360              	.LCFI56:
 3361              		.cfi_restore 7
 3362              		.cfi_def_cfa_offset 0
 3363 01c6 7047     		bx	lr
 3364              		.cfi_endproc
 3365              	.LFE165:
 3367              		.section	.text.USB_DoPing,"ax",%progbits
 3368              		.align	2
 3369              		.global	USB_DoPing
 3370              		.thumb
 3371              		.thumb_func
 3373              	USB_DoPing:
 3374              	.LFB166:
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx , uint8_t ch_num)
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3375              		.loc 1 1728 0
 3376              		.cfi_startproc
 3377              		@ args = 0, pretend = 0, frame = 16
 3378              		@ frame_needed = 1, uses_anonymous_args = 0
 3379              		@ link register save eliminated.
 3380              	.LVL258:
 3381 0000 80B4     		push	{r7}
 3382              	.LCFI57:
 3383              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccgxsq1r.s 			page 96


 3384              		.cfi_offset 7, -4
 3385 0002 85B0     		sub	sp, sp, #20
 3386              	.LCFI58:
 3387              		.cfi_def_cfa_offset 24
 3388 0004 00AF     		add	r7, sp, #0
 3389              	.LCFI59:
 3390              		.cfi_def_cfa_register 7
 3391 0006 7860     		str	r0, [r7, #4]
 3392 0008 0B46     		mov	r3, r1
 3393 000a FB70     		strb	r3, [r7, #3]
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  num_packets = 1U;
 3394              		.loc 1 1729 0
 3395 000c 0123     		movs	r3, #1
 3396 000e FB73     		strb	r3, [r7, #15]
 3397              	.LVL259:
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
 3398              		.loc 1 1730 0
 3399 0010 0023     		movs	r3, #0
 3400              	.LVL260:
 3401 0012 BB60     		str	r3, [r7, #8]
 3402              	.LVL261:
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 3403              		.loc 1 1732 0
 3404 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3405              	.LVL262:
 3406 0016 5A01     		lsls	r2, r3, #5
 3407 0018 7B68     		ldr	r3, [r7, #4]
 3408 001a 1344     		add	r3, r3, r2
 3409 001c 03F5A063 		add	r3, r3, #1280
 3410 0020 1A46     		mov	r2, r3
 3411 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3412 0024 DB04     		lsls	r3, r3, #19
 3413 0026 1946     		mov	r1, r3
 3414              	.LVL263:
 3415 0028 124B     		ldr	r3, .L228
 3416 002a 0B40     		ands	r3, r3, r1
 3417 002c 43F00043 		orr	r3, r3, #-2147483648
 3418 0030 1361     		str	r3, [r2, #16]
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCTSIZ_DOPING;
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 3419              		.loc 1 1736 0
 3420 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3421 0034 5A01     		lsls	r2, r3, #5
 3422 0036 7B68     		ldr	r3, [r7, #4]
 3423 0038 1344     		add	r3, r3, r2
 3424 003a 03F5A063 		add	r3, r3, #1280
 3425 003e 1B68     		ldr	r3, [r3]
 3426 0040 BB60     		str	r3, [r7, #8]
 3427              	.LVL264:
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 3428              		.loc 1 1737 0
 3429 0042 BB68     		ldr	r3, [r7, #8]
 3430 0044 23F08043 		bic	r3, r3, #1073741824
 3431              	.LVL265:
ARM GAS  /tmp/ccgxsq1r.s 			page 97


 3432 0048 BB60     		str	r3, [r7, #8]
 3433              	.LVL266:
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 3434              		.loc 1 1738 0
 3435 004a BB68     		ldr	r3, [r7, #8]
 3436 004c 43F00043 		orr	r3, r3, #-2147483648
 3437              	.LVL267:
 3438 0050 BB60     		str	r3, [r7, #8]
 3439              	.LVL268:
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 3440              		.loc 1 1739 0
 3441 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3442              	.LVL269:
 3443 0054 5A01     		lsls	r2, r3, #5
 3444 0056 7B68     		ldr	r3, [r7, #4]
 3445 0058 1344     		add	r3, r3, r2
 3446 005a 03F5A063 		add	r3, r3, #1280
 3447 005e 1A46     		mov	r2, r3
 3448 0060 BB68     		ldr	r3, [r7, #8]
 3449 0062 1360     		str	r3, [r2]
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3450              		.loc 1 1741 0
 3451 0064 0023     		movs	r3, #0
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3452              		.loc 1 1742 0
 3453 0066 1846     		mov	r0, r3
 3454              	.LVL270:
 3455 0068 1437     		adds	r7, r7, #20
 3456              	.LCFI60:
 3457              		.cfi_def_cfa_offset 4
 3458 006a BD46     		mov	sp, r7
 3459              	.LCFI61:
 3460              		.cfi_def_cfa_register 13
 3461              	.LVL271:
 3462              		@ sp needed
 3463 006c 5DF8047B 		ldr	r7, [sp], #4
 3464              	.LCFI62:
 3465              		.cfi_restore 7
 3466              		.cfi_def_cfa_offset 0
 3467 0070 7047     		bx	lr
 3468              	.L229:
 3469 0072 00BF     		.align	2
 3470              	.L228:
 3471 0074 0000F81F 		.word	536346624
 3472              		.cfi_endproc
 3473              	.LFE166:
 3475              		.section	.text.USB_HC_StartXfer,"ax",%progbits
 3476              		.align	2
 3477              		.global	USB_HC_StartXfer
 3478              		.thumb
 3479              		.thumb_func
 3481              	USB_HC_StartXfer:
 3482              	.LFB163:
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe = 0; 
 3483              		.loc 1 1544 0
 3484              		.cfi_startproc
ARM GAS  /tmp/ccgxsq1r.s 			page 98


 3485              		@ args = 0, pretend = 0, frame = 32
 3486              		@ frame_needed = 1, uses_anonymous_args = 0
 3487              	.LVL272:
 3488 0000 90B5     		push	{r4, r7, lr}
 3489              	.LCFI63:
 3490              		.cfi_def_cfa_offset 12
 3491              		.cfi_offset 4, -12
 3492              		.cfi_offset 7, -8
 3493              		.cfi_offset 14, -4
 3494 0002 8BB0     		sub	sp, sp, #44
 3495              	.LCFI64:
 3496              		.cfi_def_cfa_offset 56
 3497 0004 02AF     		add	r7, sp, #8
 3498              	.LCFI65:
 3499              		.cfi_def_cfa 7, 48
 3500 0006 F860     		str	r0, [r7, #12]
 3501 0008 B960     		str	r1, [r7, #8]
 3502 000a 1346     		mov	r3, r2
 3503 000c FB71     		strb	r3, [r7, #7]
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words = 0;   
 3504              		.loc 1 1545 0
 3505 000e 0023     		movs	r3, #0
 3506 0010 7B77     		strb	r3, [r7, #29]
 3507              	.LVL273:
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets = 0;
 3508              		.loc 1 1546 0
 3509 0012 0023     		movs	r3, #0
 3510              	.LVL274:
 3511 0014 7B83     		strh	r3, [r7, #26]	@ movhi
 3512              	.LVL275:
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256;
 3513              		.loc 1 1547 0
 3514 0016 0023     		movs	r3, #0
 3515              	.LVL276:
 3516 0018 FB83     		strh	r3, [r7, #30]	@ movhi
 3517              	.LVL277:
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
 3518              		.loc 1 1548 0
 3519 001a 4FF48073 		mov	r3, #256
 3520              	.LVL278:
 3521 001e 3B83     		strh	r3, [r7, #24]	@ movhi
 3522              	.LVL279:
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 3523              		.loc 1 1549 0
 3524 0020 0023     		movs	r3, #0
 3525              	.LVL280:
 3526 0022 7B61     		str	r3, [r7, #20]
 3527              	.LVL281:
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3528              		.loc 1 1551 0
 3529 0024 FB68     		ldr	r3, [r7, #12]
 3530              	.LVL282:
 3531 0026 B3F1A04F 		cmp	r3, #1342177280
 3532 002a 2BD0     		beq	.L231
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3533              		.loc 1 1551 0 is_stmt 0 discriminator 1
 3534 002c BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccgxsq1r.s 			page 99


 3535 002e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 3536 0030 002B     		cmp	r3, #0
 3537 0032 27D1     		bne	.L231
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3538              		.loc 1 1553 0 is_stmt 1
 3539 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3540 0036 002B     		cmp	r3, #0
 3541 0038 0BD1     		bne	.L232
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3542              		.loc 1 1553 0 is_stmt 0 discriminator 1
 3543 003a BB68     		ldr	r3, [r7, #8]
 3544 003c 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 3545 003e 012B     		cmp	r3, #1
 3546 0040 07D1     		bne	.L232
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 3547              		.loc 1 1555 0 is_stmt 1
 3548 0042 BB68     		ldr	r3, [r7, #8]
 3549 0044 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3550 0046 F868     		ldr	r0, [r7, #12]
 3551 0048 1946     		mov	r1, r3
 3552              	.LVL283:
 3553 004a FFF7FEFF 		bl	USB_DoPing
 3554              	.LVL284:
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 3555              		.loc 1 1556 0
 3556 004e 0023     		movs	r3, #0
 3557 0050 0BE1     		b	.L233
 3558              	.LVL285:
 3559              	.L232:
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3560              		.loc 1 1558 0
 3561 0052 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3562 0054 012B     		cmp	r3, #1
 3563 0056 15D1     		bne	.L231
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
 3564              		.loc 1 1560 0
 3565 0058 BB68     		ldr	r3, [r7, #8]
 3566 005a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3567 005c 5A01     		lsls	r2, r3, #5
 3568              	.LVL286:
 3569 005e FB68     		ldr	r3, [r7, #12]
 3570 0060 1344     		add	r3, r3, r2
 3571 0062 03F5A063 		add	r3, r3, #1280
 3572 0066 1946     		mov	r1, r3
 3573              	.LVL287:
 3574 0068 BB68     		ldr	r3, [r7, #8]
 3575 006a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3576 006c 5A01     		lsls	r2, r3, #5
 3577 006e FB68     		ldr	r3, [r7, #12]
 3578 0070 1344     		add	r3, r3, r2
 3579 0072 03F5A063 		add	r3, r3, #1280
 3580 0076 DB68     		ldr	r3, [r3, #12]
 3581 0078 23F06003 		bic	r3, r3, #96
 3582 007c CB60     		str	r3, [r1, #12]
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 3583              		.loc 1 1561 0
 3584 007e BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccgxsq1r.s 			page 100


 3585 0080 0022     		movs	r2, #0
 3586 0082 5A71     		strb	r2, [r3, #5]
 3587              	.L231:
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3588              		.loc 1 1566 0
 3589 0084 BB68     		ldr	r3, [r7, #8]
 3590 0086 1B69     		ldr	r3, [r3, #16]
 3591 0088 002B     		cmp	r3, #0
 3592 008a 19D0     		beq	.L234
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 3593              		.loc 1 1568 0
 3594 008c BB68     		ldr	r3, [r7, #8]
 3595 008e 1B69     		ldr	r3, [r3, #16]
 3596 0090 BA68     		ldr	r2, [r7, #8]
 3597 0092 1289     		ldrh	r2, [r2, #8]
 3598 0094 1344     		add	r3, r3, r2
 3599 0096 013B     		subs	r3, r3, #1
 3600 0098 BA68     		ldr	r2, [r7, #8]
 3601 009a 1289     		ldrh	r2, [r2, #8]
 3602 009c B3FBF2F3 		udiv	r3, r3, r2
 3603 00a0 FB83     		strh	r3, [r7, #30]	@ movhi
 3604              	.LVL288:
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3605              		.loc 1 1570 0
 3606 00a2 FA8B     		ldrh	r2, [r7, #30]
 3607 00a4 3B8B     		ldrh	r3, [r7, #24]
 3608              	.LVL289:
 3609 00a6 9A42     		cmp	r2, r3
 3610 00a8 0CD9     		bls	.L236
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = num_packets * hc->max_packet;
 3611              		.loc 1 1572 0
 3612 00aa 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 3613 00ac FB83     		strh	r3, [r7, #30]	@ movhi
 3614              	.LVL290:
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 3615              		.loc 1 1573 0
 3616 00ae FB8B     		ldrh	r3, [r7, #30]
 3617              	.LVL291:
 3618 00b0 BA68     		ldr	r2, [r7, #8]
 3619 00b2 1289     		ldrh	r2, [r2, #8]
 3620 00b4 02FB03F3 		mul	r3, r2, r3
 3621 00b8 1A46     		mov	r2, r3
 3622 00ba BB68     		ldr	r3, [r7, #8]
 3623 00bc 1A61     		str	r2, [r3, #16]
 3624 00be 01E0     		b	.L236
 3625              	.L234:
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 3626              		.loc 1 1578 0
 3627 00c0 0123     		movs	r3, #1
 3628 00c2 FB83     		strh	r3, [r7, #30]	@ movhi
 3629              	.LVL292:
 3630              	.L236:
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3631              		.loc 1 1580 0
 3632 00c4 BB68     		ldr	r3, [r7, #8]
 3633 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3634 00c8 002B     		cmp	r3, #0
ARM GAS  /tmp/ccgxsq1r.s 			page 101


 3635 00ca 07D0     		beq	.L237
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 3636              		.loc 1 1582 0
 3637 00cc FB8B     		ldrh	r3, [r7, #30]
 3638 00ce BA68     		ldr	r2, [r7, #8]
 3639 00d0 1289     		ldrh	r2, [r2, #8]
 3640 00d2 02FB03F3 		mul	r3, r2, r3
 3641 00d6 1A46     		mov	r2, r3
 3642 00d8 BB68     		ldr	r3, [r7, #8]
 3643 00da 1A61     		str	r2, [r3, #16]
 3644              	.L237:
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 3645              		.loc 1 1586 0
 3646 00dc BB68     		ldr	r3, [r7, #8]
 3647 00de 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3648 00e0 5A01     		lsls	r2, r3, #5
 3649 00e2 FB68     		ldr	r3, [r7, #12]
 3650 00e4 1344     		add	r3, r3, r2
 3651 00e6 03F5A063 		add	r3, r3, #1280
 3652 00ea 1946     		mov	r1, r3
 3653 00ec BB68     		ldr	r3, [r7, #8]
 3654 00ee 1B69     		ldr	r3, [r3, #16]
 3655 00f0 C3F31202 		ubfx	r2, r3, #0, #19
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (((hc->data_pid) << 29U) & USB_OTG_HCTSIZ_DPID);
 3656              		.loc 1 1587 0
 3657 00f4 FB8B     		ldrh	r3, [r7, #30]
 3658 00f6 DB04     		lsls	r3, r3, #19
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 3659              		.loc 1 1586 0
 3660 00f8 1846     		mov	r0, r3
 3661              	.LVL293:
 3662 00fa 5E4B     		ldr	r3, .L248
 3663 00fc 0340     		ands	r3, r3, r0
 3664 00fe 1A43     		orrs	r2, r2, r3
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 3665              		.loc 1 1588 0
 3666 0100 BB68     		ldr	r3, [r7, #8]
 3667 0102 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 3668 0104 5B07     		lsls	r3, r3, #29
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (((hc->data_pid) << 29U) & USB_OTG_HCTSIZ_DPID);
 3669              		.loc 1 1587 0
 3670 0106 03F0C043 		and	r3, r3, #1610612736
 3671 010a 1343     		orrs	r3, r3, r2
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 3672              		.loc 1 1586 0
 3673 010c 0B61     		str	r3, [r1, #16]
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3674              		.loc 1 1590 0
 3675 010e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3676 0110 002B     		cmp	r3, #0
 3677 0112 0AD0     		beq	.L238
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 3678              		.loc 1 1593 0
 3679 0114 BB68     		ldr	r3, [r7, #8]
 3680 0116 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3681 0118 5A01     		lsls	r2, r3, #5
 3682 011a FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccgxsq1r.s 			page 102


 3683 011c 1344     		add	r3, r3, r2
 3684 011e 03F5A063 		add	r3, r3, #1280
 3685 0122 1A46     		mov	r2, r3
 3686 0124 BB68     		ldr	r3, [r7, #8]
 3687 0126 DB68     		ldr	r3, [r3, #12]
 3688 0128 5361     		str	r3, [r2, #20]
 3689              	.L238:
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 3690              		.loc 1 1596 0
 3691 012a FB68     		ldr	r3, [r7, #12]
 3692 012c 03F58063 		add	r3, r3, #1024
 3693 0130 9B68     		ldr	r3, [r3, #8]
 3694 0132 03F00103 		and	r3, r3, #1
 3695 0136 002B     		cmp	r3, #0
 3696 0138 0CBF     		ite	eq
 3697 013a 0123     		moveq	r3, #1
 3698 013c 0023     		movne	r3, #0
 3699 013e DBB2     		uxtb	r3, r3
 3700 0140 7B77     		strb	r3, [r7, #29]
 3701              	.LVL294:
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR |= (is_oddframe << 29);
 3702              		.loc 1 1597 0
 3703 0142 BB68     		ldr	r3, [r7, #8]
 3704              	.LVL295:
 3705 0144 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3706 0146 5A01     		lsls	r2, r3, #5
 3707 0148 FB68     		ldr	r3, [r7, #12]
 3708 014a 1344     		add	r3, r3, r2
 3709 014c 03F5A063 		add	r3, r3, #1280
 3710 0150 1946     		mov	r1, r3
 3711 0152 BB68     		ldr	r3, [r7, #8]
 3712 0154 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3713 0156 5A01     		lsls	r2, r3, #5
 3714 0158 FB68     		ldr	r3, [r7, #12]
 3715 015a 1344     		add	r3, r3, r2
 3716 015c 03F5A063 		add	r3, r3, #1280
 3717 0160 1B68     		ldr	r3, [r3]
 3718 0162 23F00053 		bic	r3, r3, #536870912
 3719 0166 0B60     		str	r3, [r1]
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 3720              		.loc 1 1598 0
 3721 0168 BB68     		ldr	r3, [r7, #8]
 3722 016a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3723 016c 5A01     		lsls	r2, r3, #5
 3724 016e FB68     		ldr	r3, [r7, #12]
 3725 0170 1344     		add	r3, r3, r2
 3726 0172 03F5A063 		add	r3, r3, #1280
 3727 0176 1946     		mov	r1, r3
 3728 0178 BB68     		ldr	r3, [r7, #8]
 3729 017a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3730 017c 5A01     		lsls	r2, r3, #5
 3731 017e FB68     		ldr	r3, [r7, #12]
 3732 0180 1344     		add	r3, r3, r2
 3733 0182 03F5A063 		add	r3, r3, #1280
 3734 0186 1B68     		ldr	r3, [r3]
 3735 0188 7A7F     		ldrb	r2, [r7, #29]	@ zero_extendqisi2
 3736 018a 5207     		lsls	r2, r2, #29
ARM GAS  /tmp/ccgxsq1r.s 			page 103


 3737 018c 1343     		orrs	r3, r3, r2
 3738 018e 0B60     		str	r3, [r1]
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 3739              		.loc 1 1601 0
 3740 0190 BB68     		ldr	r3, [r7, #8]
 3741 0192 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3742 0194 5A01     		lsls	r2, r3, #5
 3743 0196 FB68     		ldr	r3, [r7, #12]
 3744 0198 1344     		add	r3, r3, r2
 3745 019a 03F5A063 		add	r3, r3, #1280
 3746 019e 1B68     		ldr	r3, [r3]
 3747 01a0 7B61     		str	r3, [r7, #20]
 3748              	.LVL296:
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 3749              		.loc 1 1602 0
 3750 01a2 7B69     		ldr	r3, [r7, #20]
 3751 01a4 23F08043 		bic	r3, r3, #1073741824
 3752              	.LVL297:
 3753 01a8 7B61     		str	r3, [r7, #20]
 3754              	.LVL298:
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR = tmpreg;
 3755              		.loc 1 1603 0
 3756 01aa 7B69     		ldr	r3, [r7, #20]
 3757 01ac 43F00043 		orr	r3, r3, #-2147483648
 3758              	.LVL299:
 3759 01b0 7B61     		str	r3, [r7, #20]
 3760              	.LVL300:
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 3761              		.loc 1 1604 0
 3762 01b2 BB68     		ldr	r3, [r7, #8]
 3763              	.LVL301:
 3764 01b4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3765 01b6 5A01     		lsls	r2, r3, #5
 3766 01b8 FB68     		ldr	r3, [r7, #12]
 3767 01ba 1344     		add	r3, r3, r2
 3768 01bc 03F5A063 		add	r3, r3, #1280
 3769 01c0 1A46     		mov	r2, r3
 3770 01c2 7B69     		ldr	r3, [r7, #20]
 3771 01c4 1360     		str	r3, [r2]
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {  
 3772              		.loc 1 1606 0
 3773 01c6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3774 01c8 002B     		cmp	r3, #0
 3775 01ca 4DD1     		bne	.L239
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3776              		.loc 1 1608 0
 3777 01cc BB68     		ldr	r3, [r7, #8]
 3778 01ce DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3779 01d0 002B     		cmp	r3, #0
 3780 01d2 49D1     		bne	.L239
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 3781              		.loc 1 1608 0 is_stmt 0 discriminator 1
 3782 01d4 BB68     		ldr	r3, [r7, #8]
 3783 01d6 1B69     		ldr	r3, [r3, #16]
 3784 01d8 002B     		cmp	r3, #0
 3785 01da 45D0     		beq	.L239
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
ARM GAS  /tmp/ccgxsq1r.s 			page 104


 3786              		.loc 1 1610 0 is_stmt 1
 3787 01dc BB68     		ldr	r3, [r7, #8]
 3788 01de DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 3789 01e0 032B     		cmp	r3, #3
 3790 01e2 33D8     		bhi	.L247
 3791 01e4 01A2     		adr	r2, .L242
 3792 01e6 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 3793 01ea 00BF     		.p2align 2
 3794              	.L242:
 3795 01ec FD010000 		.word	.L241+1
 3796 01f0 23020000 		.word	.L243+1
 3797 01f4 FD010000 		.word	.L241+1
 3798 01f8 23020000 		.word	.L243+1
 3799              		.p2align 1
 3800              	.L241:
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
 3801              		.loc 1 1616 0
 3802 01fc BB68     		ldr	r3, [r7, #8]
 3803 01fe 1B69     		ldr	r3, [r3, #16]
 3804 0200 0333     		adds	r3, r3, #3
 3805 0202 9B08     		lsrs	r3, r3, #2
 3806 0204 7B83     		strh	r3, [r7, #26]	@ movhi
 3807              	.LVL302:
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 3808              		.loc 1 1619 0
 3809 0206 7A8B     		ldrh	r2, [r7, #26]
 3810 0208 FB68     		ldr	r3, [r7, #12]
 3811              	.LVL303:
 3812 020a DB6A     		ldr	r3, [r3, #44]
 3813 020c 9BB2     		uxth	r3, r3
 3814 020e 9A42     		cmp	r2, r3
 3815 0210 06D9     		bls	.L244
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 3816              		.loc 1 1622 0
 3817 0212 FB68     		ldr	r3, [r7, #12]
 3818 0214 9B69     		ldr	r3, [r3, #24]
 3819 0216 43F02002 		orr	r2, r3, #32
 3820 021a FB68     		ldr	r3, [r7, #12]
 3821 021c 9A61     		str	r2, [r3, #24]
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
 3822              		.loc 1 1624 0
 3823 021e 16E0     		b	.L245
 3824              	.L244:
 3825 0220 15E0     		b	.L245
 3826              	.L243:
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
 3827              		.loc 1 1628 0
 3828 0222 BB68     		ldr	r3, [r7, #8]
 3829 0224 1B69     		ldr	r3, [r3, #16]
 3830 0226 0333     		adds	r3, r3, #3
 3831 0228 9B08     		lsrs	r3, r3, #2
 3832 022a 7B83     		strh	r3, [r7, #26]	@ movhi
 3833              	.LVL304:
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 3834              		.loc 1 1630 0
 3835 022c 7A8B     		ldrh	r2, [r7, #26]
 3836 022e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccgxsq1r.s 			page 105


 3837              	.LVL305:
 3838 0230 03F58063 		add	r3, r3, #1024
 3839 0234 1B69     		ldr	r3, [r3, #16]
 3840 0236 9BB2     		uxth	r3, r3
 3841 0238 9A42     		cmp	r2, r3
 3842 023a 06D9     		bls	.L246
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 3843              		.loc 1 1633 0
 3844 023c FB68     		ldr	r3, [r7, #12]
 3845 023e 9B69     		ldr	r3, [r3, #24]
 3846 0240 43F08062 		orr	r2, r3, #67108864
 3847 0244 FB68     		ldr	r3, [r7, #12]
 3848 0246 9A61     		str	r2, [r3, #24]
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
 3849              		.loc 1 1635 0
 3850 0248 01E0     		b	.L245
 3851              	.L246:
 3852 024a 00E0     		b	.L245
 3853              	.L247:
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 3854              		.loc 1 1638 0
 3855 024c 00BF     		nop
 3856              	.L245:
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 3857              		.loc 1 1642 0
 3858 024e BB68     		ldr	r3, [r7, #8]
 3859 0250 D968     		ldr	r1, [r3, #12]
 3860 0252 BB68     		ldr	r3, [r7, #8]
 3861 0254 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 3862 0256 BB68     		ldr	r3, [r7, #8]
 3863 0258 1B69     		ldr	r3, [r3, #16]
 3864 025a 9CB2     		uxth	r4, r3
 3865 025c 0023     		movs	r3, #0
 3866 025e 0093     		str	r3, [sp]
 3867 0260 F868     		ldr	r0, [r7, #12]
 3868 0262 2346     		mov	r3, r4
 3869 0264 FFF7FEFF 		bl	USB_WritePacket
 3870              	.LVL306:
 3871              	.L239:
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3872              		.loc 1 1646 0
 3873 0268 0023     		movs	r3, #0
 3874              	.L233:
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 3875              		.loc 1 1647 0
 3876 026a 1846     		mov	r0, r3
 3877 026c 2437     		adds	r7, r7, #36
 3878              	.LCFI66:
 3879              		.cfi_def_cfa_offset 12
 3880              	.LVL307:
 3881 026e BD46     		mov	sp, r7
 3882              	.LCFI67:
 3883              		.cfi_def_cfa_register 13
 3884              		@ sp needed
 3885 0270 90BD     		pop	{r4, r7, pc}
 3886              	.LVL308:
 3887              	.L249:
ARM GAS  /tmp/ccgxsq1r.s 			page 106


 3888 0272 00BF     		.align	2
 3889              	.L248:
 3890 0274 0000F81F 		.word	536346624
 3891              		.cfi_endproc
 3892              	.LFE163:
 3894              		.section	.text.USB_StopHost,"ax",%progbits
 3895              		.align	2
 3896              		.global	USB_StopHost
 3897              		.thumb
 3898              		.thumb_func
 3900              	USB_StopHost:
 3901              	.LFB167:
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3902              		.loc 1 1750 0
 3903              		.cfi_startproc
 3904              		@ args = 0, pretend = 0, frame = 24
 3905              		@ frame_needed = 1, uses_anonymous_args = 0
 3906              	.LVL309:
 3907 0000 80B5     		push	{r7, lr}
 3908              	.LCFI68:
 3909              		.cfi_def_cfa_offset 8
 3910              		.cfi_offset 7, -8
 3911              		.cfi_offset 14, -4
 3912 0002 86B0     		sub	sp, sp, #24
 3913              	.LCFI69:
 3914              		.cfi_def_cfa_offset 32
 3915 0004 00AF     		add	r7, sp, #0
 3916              	.LCFI70:
 3917              		.cfi_def_cfa_register 7
 3918 0006 7860     		str	r0, [r7, #4]
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t i;
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 3919              		.loc 1 1752 0
 3920 0008 0023     		movs	r3, #0
 3921 000a 3B61     		str	r3, [r7, #16]
 3922              	.LVL310:
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_DisableGlobalInt(USBx);
 3923              		.loc 1 1755 0
 3924 000c 7868     		ldr	r0, [r7, #4]
 3925 000e FFF7FEFF 		bl	USB_DisableGlobalInt
 3926              	.LVL311:
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush FIFO */
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10U);
 3927              		.loc 1 1758 0
 3928 0012 7868     		ldr	r0, [r7, #4]
 3929 0014 1021     		movs	r1, #16
 3930 0016 FFF7FEFF 		bl	USB_FlushTxFifo
ARM GAS  /tmp/ccgxsq1r.s 			page 107


 3931              	.LVL312:
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 3932              		.loc 1 1759 0
 3933 001a 7868     		ldr	r0, [r7, #4]
 3934 001c FFF7FEFF 		bl	USB_FlushRxFifo
 3935              	.LVL313:
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0; i <= 15; i++)
 3936              		.loc 1 1762 0
 3937 0020 0023     		movs	r3, #0
 3938 0022 FB75     		strb	r3, [r7, #23]
 3939              	.LVL314:
 3940 0024 1FE0     		b	.L251
 3941              	.LVL315:
 3942              	.L252:
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR ;
 3943              		.loc 1 1765 0 discriminator 3
 3944 0026 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3945 0028 5A01     		lsls	r2, r3, #5
 3946 002a 7B68     		ldr	r3, [r7, #4]
 3947 002c 1344     		add	r3, r3, r2
 3948 002e 03F5A063 		add	r3, r3, #1280
 3949 0032 1B68     		ldr	r3, [r3]
 3950 0034 FB60     		str	r3, [r7, #12]
 3951              	.LVL316:
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 3952              		.loc 1 1766 0 discriminator 3
 3953 0036 FB68     		ldr	r3, [r7, #12]
 3954 0038 43F08043 		orr	r3, r3, #1073741824
 3955              	.LVL317:
 3956 003c FB60     		str	r3, [r7, #12]
 3957              	.LVL318:
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;  
 3958              		.loc 1 1767 0 discriminator 3
 3959 003e FB68     		ldr	r3, [r7, #12]
 3960 0040 23F00043 		bic	r3, r3, #-2147483648
 3961              	.LVL319:
 3962 0044 FB60     		str	r3, [r7, #12]
 3963              	.LVL320:
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 3964              		.loc 1 1768 0 discriminator 3
 3965 0046 FB68     		ldr	r3, [r7, #12]
 3966 0048 23F40043 		bic	r3, r3, #32768
 3967              	.LVL321:
 3968 004c FB60     		str	r3, [r7, #12]
 3969              	.LVL322:
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 3970              		.loc 1 1769 0 discriminator 3
 3971 004e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3972              	.LVL323:
 3973 0050 5A01     		lsls	r2, r3, #5
 3974 0052 7B68     		ldr	r3, [r7, #4]
 3975 0054 1344     		add	r3, r3, r2
 3976 0056 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccgxsq1r.s 			page 108


 3977 005a 1A46     		mov	r2, r3
 3978 005c FB68     		ldr	r3, [r7, #12]
 3979 005e 1360     		str	r3, [r2]
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
 3980              		.loc 1 1762 0 discriminator 3
 3981 0060 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3982 0062 0133     		adds	r3, r3, #1
 3983 0064 FB75     		strb	r3, [r7, #23]
 3984              	.LVL324:
 3985              	.L251:
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
 3986              		.loc 1 1762 0 is_stmt 0 discriminator 1
 3987 0066 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3988 0068 0F2B     		cmp	r3, #15
 3989 006a DCD9     		bls	.L252
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */  
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0; i <= 15; i++)
 3990              		.loc 1 1773 0 is_stmt 1
 3991 006c 0023     		movs	r3, #0
 3992 006e FB75     		strb	r3, [r7, #23]
 3993              	.LVL325:
 3994 0070 30E0     		b	.L253
 3995              	.LVL326:
 3996              	.L257:
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR ;
 3997              		.loc 1 1775 0
 3998 0072 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3999 0074 5A01     		lsls	r2, r3, #5
 4000 0076 7B68     		ldr	r3, [r7, #4]
 4001 0078 1344     		add	r3, r3, r2
 4002 007a 03F5A063 		add	r3, r3, #1280
 4003 007e 1B68     		ldr	r3, [r3]
 4004 0080 FB60     		str	r3, [r7, #12]
 4005              	.LVL327:
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 4006              		.loc 1 1777 0
 4007 0082 FB68     		ldr	r3, [r7, #12]
 4008 0084 43F08043 		orr	r3, r3, #1073741824
 4009              	.LVL328:
 4010 0088 FB60     		str	r3, [r7, #12]
 4011              	.LVL329:
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;  
 4012              		.loc 1 1778 0
 4013 008a FB68     		ldr	r3, [r7, #12]
 4014 008c 43F00043 		orr	r3, r3, #-2147483648
 4015              	.LVL330:
 4016 0090 FB60     		str	r3, [r7, #12]
 4017              	.LVL331:
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 4018              		.loc 1 1779 0
 4019 0092 FB68     		ldr	r3, [r7, #12]
 4020 0094 23F40043 		bic	r3, r3, #32768
 4021              	.LVL332:
ARM GAS  /tmp/ccgxsq1r.s 			page 109


 4022 0098 FB60     		str	r3, [r7, #12]
 4023              	.LVL333:
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 4024              		.loc 1 1781 0
 4025 009a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4026              	.LVL334:
 4027 009c 5A01     		lsls	r2, r3, #5
 4028 009e 7B68     		ldr	r3, [r7, #4]
 4029 00a0 1344     		add	r3, r3, r2
 4030 00a2 03F5A063 		add	r3, r3, #1280
 4031 00a6 1A46     		mov	r2, r3
 4032 00a8 FB68     		ldr	r3, [r7, #12]
 4033 00aa 1360     		str	r3, [r2]
 4034              	.L256:
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do 
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 1000U) 
 4035              		.loc 1 1784 0
 4036 00ac 3B69     		ldr	r3, [r7, #16]
 4037 00ae 0133     		adds	r3, r3, #1
 4038 00b0 3B61     		str	r3, [r7, #16]
 4039              	.LVL335:
 4040 00b2 3B69     		ldr	r3, [r7, #16]
 4041 00b4 B3F57A7F 		cmp	r3, #1000
 4042 00b8 00D9     		bls	.L254
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 4043              		.loc 1 1786 0
 4044 00ba 08E0     		b	.L255
 4045              	.L254:
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 4046              		.loc 1 1789 0
 4047 00bc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4048              	.LVL336:
 4049 00be 5A01     		lsls	r2, r3, #5
 4050 00c0 7B68     		ldr	r3, [r7, #4]
 4051 00c2 1344     		add	r3, r3, r2
 4052 00c4 03F5A063 		add	r3, r3, #1280
 4053 00c8 1B68     		ldr	r3, [r3]
 4054 00ca 002B     		cmp	r3, #0
 4055 00cc EEDB     		blt	.L256
 4056              	.L255:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4057              		.loc 1 1773 0 discriminator 2
 4058 00ce FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4059 00d0 0133     		adds	r3, r3, #1
 4060 00d2 FB75     		strb	r3, [r7, #23]
 4061              	.LVL337:
 4062              	.L253:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4063              		.loc 1 1773 0 is_stmt 0 discriminator 1
 4064 00d4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4065 00d6 0F2B     		cmp	r3, #15
 4066 00d8 CBD9     		bls	.L257
ARM GAS  /tmp/ccgxsq1r.s 			page 110


1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */  
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 4067              		.loc 1 1793 0 is_stmt 1
 4068 00da 7B68     		ldr	r3, [r7, #4]
 4069 00dc 03F58063 		add	r3, r3, #1024
 4070 00e0 1A46     		mov	r2, r3
 4071 00e2 4FF0FF33 		mov	r3, #-1
 4072 00e6 5361     		str	r3, [r2, #20]
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4073              		.loc 1 1794 0
 4074 00e8 7B68     		ldr	r3, [r7, #4]
 4075 00ea 4FF0FF32 		mov	r2, #-1
 4076 00ee 5A61     		str	r2, [r3, #20]
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_EnableGlobalInt(USBx);
 4077              		.loc 1 1795 0
 4078 00f0 7868     		ldr	r0, [r7, #4]
 4079 00f2 FFF7FEFF 		bl	USB_EnableGlobalInt
 4080              	.LVL338:
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 4081              		.loc 1 1796 0
 4082 00f6 0023     		movs	r3, #0
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4083              		.loc 1 1797 0
 4084 00f8 1846     		mov	r0, r3
 4085 00fa 1837     		adds	r7, r7, #24
 4086              	.LCFI71:
 4087              		.cfi_def_cfa_offset 8
 4088 00fc BD46     		mov	sp, r7
 4089              	.LCFI72:
 4090              		.cfi_def_cfa_register 13
 4091              	.LVL339:
 4092              		@ sp needed
 4093 00fe 80BD     		pop	{r7, pc}
 4094              		.cfi_endproc
 4095              	.LFE167:
 4097              		.section	.bss.debug.7402,"aw",%nobits
 4098              		.align	2
 4099              		.set	.LANCHOR0,. + 0
 4102              	debug.7402:
 4103 0000 00000000 		.space	4
 4104              		.text
 4105              	.Letext0:
 4106              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 4107              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 4108              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 4109              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 4110              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 4111              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 4112              		.file 8 "Drivers/CMSIS/Include/core_cm4.h"
 4113              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccgxsq1r.s 			page 111


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_ll_usb.c
     /tmp/ccgxsq1r.s:21     .text.USB_CoreReset:00000000 $t
     /tmp/ccgxsq1r.s:25     .text.USB_CoreReset:00000000 USB_CoreReset
     /tmp/ccgxsq1r.s:89     .text.USB_CoreReset:00000034 $d
     /tmp/ccgxsq1r.s:94     .text.USB_CoreInit:00000000 $t
     /tmp/ccgxsq1r.s:99     .text.USB_CoreInit:00000000 USB_CoreInit
     /tmp/ccgxsq1r.s:191    .text.USB_EnableGlobalInt:00000000 $t
     /tmp/ccgxsq1r.s:196    .text.USB_EnableGlobalInt:00000000 USB_EnableGlobalInt
     /tmp/ccgxsq1r.s:216    .text.USB_DisableGlobalInt:00000000 $t
     /tmp/ccgxsq1r.s:221    .text.USB_DisableGlobalInt:00000000 USB_DisableGlobalInt
     /tmp/ccgxsq1r.s:241    .text.USB_SetCurrentMode:00000000 $t
     /tmp/ccgxsq1r.s:246    .text.USB_SetCurrentMode:00000000 USB_SetCurrentMode
     /tmp/ccgxsq1r.s:290    .text.USB_FlushTxFifo:00000000 $t
     /tmp/ccgxsq1r.s:295    .text.USB_FlushTxFifo:00000000 USB_FlushTxFifo
     /tmp/ccgxsq1r.s:337    .text.USB_FlushTxFifo:00000020 $d
     /tmp/ccgxsq1r.s:342    .text.USB_FlushRxFifo:00000000 $t
     /tmp/ccgxsq1r.s:347    .text.USB_FlushRxFifo:00000000 USB_FlushRxFifo
     /tmp/ccgxsq1r.s:387    .text.USB_FlushRxFifo:0000001c $d
     /tmp/ccgxsq1r.s:392    .text.USB_SetDevSpeed:00000000 $t
     /tmp/ccgxsq1r.s:397    .text.USB_SetDevSpeed:00000000 USB_SetDevSpeed
     /tmp/ccgxsq1r.s:418    .text.USB_DevInit:00000000 $t
     /tmp/ccgxsq1r.s:423    .text.USB_DevInit:00000000 USB_DevInit
     /tmp/ccgxsq1r.s:661    .text.USB_DevInit:0000013c $d
     /tmp/ccgxsq1r.s:667    .text.USB_GetDevSpeed:00000000 $t
     /tmp/ccgxsq1r.s:672    .text.USB_GetDevSpeed:00000000 USB_GetDevSpeed
     /tmp/ccgxsq1r.s:727    .text.USB_ActivateEndpoint:00000000 $t
     /tmp/ccgxsq1r.s:732    .text.USB_ActivateEndpoint:00000000 USB_ActivateEndpoint
     /tmp/ccgxsq1r.s:817    .text.USB_ActivateDedicatedEndpoint:00000000 $t
     /tmp/ccgxsq1r.s:822    .text.USB_ActivateDedicatedEndpoint:00000000 USB_ActivateDedicatedEndpoint
     /tmp/ccgxsq1r.s:941    .text.USB_ActivateDedicatedEndpoint:000000dc $d
     /tmp/ccgxsq1r.s:946    .text.USB_DeactivateEndpoint:00000000 $t
     /tmp/ccgxsq1r.s:951    .text.USB_DeactivateEndpoint:00000000 USB_DeactivateEndpoint
     /tmp/ccgxsq1r.s:1100   .text.USB_DeactivateEndpoint:000000e4 $d
     /tmp/ccgxsq1r.s:1105   .text.USB_DeactivateDedicatedEndpoint:00000000 $t
     /tmp/ccgxsq1r.s:1110   .text.USB_DeactivateDedicatedEndpoint:00000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccgxsq1r.s:1259   .text.USB_DeactivateDedicatedEndpoint:000000e4 $d
     /tmp/ccgxsq1r.s:1264   .text.USB_EP0StartXfer:00000000 $t
     /tmp/ccgxsq1r.s:1269   .text.USB_EP0StartXfer:00000000 USB_EP0StartXfer
     /tmp/ccgxsq1r.s:1449   .text.USB_WritePacket:00000000 $t
     /tmp/ccgxsq1r.s:1454   .text.USB_WritePacket:00000000 USB_WritePacket
     /tmp/ccgxsq1r.s:1508   .text.USB_EPStartXfer:00000000 $t
     /tmp/ccgxsq1r.s:1513   .text.USB_EPStartXfer:00000000 USB_EPStartXfer
     /tmp/ccgxsq1r.s:1815   .text.USB_EPStartXfer:00000254 $d
     /tmp/ccgxsq1r.s:1820   .text.USB_ReadPacket:00000000 $t
     /tmp/ccgxsq1r.s:1825   .text.USB_ReadPacket:00000000 USB_ReadPacket
     /tmp/ccgxsq1r.s:1881   .text.USB_EPSetStall:00000000 $t
     /tmp/ccgxsq1r.s:1886   .text.USB_EPSetStall:00000000 USB_EPSetStall
     /tmp/ccgxsq1r.s:1947   .text.USB_EPClearStall:00000000 $t
     /tmp/ccgxsq1r.s:1952   .text.USB_EPClearStall:00000000 USB_EPClearStall
     /tmp/ccgxsq1r.s:2015   .text.USB_StopDevice:00000000 $t
     /tmp/ccgxsq1r.s:2020   .text.USB_StopDevice:00000000 USB_StopDevice
     /tmp/ccgxsq1r.s:2075   .text.USB_SetDevAddress:00000000 $t
     /tmp/ccgxsq1r.s:2080   .text.USB_SetDevAddress:00000000 USB_SetDevAddress
     /tmp/ccgxsq1r.s:2107   .text.USB_DevConnect:00000000 $t
     /tmp/ccgxsq1r.s:2112   .text.USB_DevConnect:00000000 USB_DevConnect
     /tmp/ccgxsq1r.s:2140   .text.USB_DevDisconnect:00000000 $t
ARM GAS  /tmp/ccgxsq1r.s 			page 112


     /tmp/ccgxsq1r.s:2145   .text.USB_DevDisconnect:00000000 USB_DevDisconnect
     /tmp/ccgxsq1r.s:2173   .text.USB_ReadInterrupts:00000000 $t
     /tmp/ccgxsq1r.s:2178   .text.USB_ReadInterrupts:00000000 USB_ReadInterrupts
     /tmp/ccgxsq1r.s:2200   .text.USB_ReadDevAllOutEpInterrupt:00000000 $t
     /tmp/ccgxsq1r.s:2205   .text.USB_ReadDevAllOutEpInterrupt:00000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccgxsq1r.s:2230   .text.USB_ReadDevAllInEpInterrupt:00000000 $t
     /tmp/ccgxsq1r.s:2235   .text.USB_ReadDevAllInEpInterrupt:00000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccgxsq1r.s:2260   .text.USB_ReadDevOutEPInterrupt:00000000 $t
     /tmp/ccgxsq1r.s:2265   .text.USB_ReadDevOutEPInterrupt:00000000 USB_ReadDevOutEPInterrupt
     /tmp/ccgxsq1r.s:2292   .text.USB_ReadDevInEPInterrupt:00000000 $t
     /tmp/ccgxsq1r.s:2297   .text.USB_ReadDevInEPInterrupt:00000000 USB_ReadDevInEPInterrupt
     /tmp/ccgxsq1r.s:2337   .text.USB_ClearInterrupts:00000000 $t
     /tmp/ccgxsq1r.s:2342   .text.USB_ClearInterrupts:00000000 USB_ClearInterrupts
     /tmp/ccgxsq1r.s:2360   .text.USB_GetMode:00000000 $t
     /tmp/ccgxsq1r.s:2365   .text.USB_GetMode:00000000 USB_GetMode
     /tmp/ccgxsq1r.s:2383   .text.USB_ActivateSetup:00000000 $t
     /tmp/ccgxsq1r.s:2388   .text.USB_ActivateSetup:00000000 USB_ActivateSetup
     /tmp/ccgxsq1r.s:2424   .text.USB_EP0_OutStart:00000000 $t
     /tmp/ccgxsq1r.s:2429   .text.USB_EP0_OutStart:00000000 USB_EP0_OutStart
     /tmp/ccgxsq1r.s:2477   .text.USB_InitFSLSPClkSel:00000000 $t
     /tmp/ccgxsq1r.s:2482   .text.USB_InitFSLSPClkSel:00000000 USB_InitFSLSPClkSel
     /tmp/ccgxsq1r.s:2532   .text.USB_ResetPort:00000000 $t
     /tmp/ccgxsq1r.s:2537   .text.USB_ResetPort:00000000 USB_ResetPort
     /tmp/ccgxsq1r.s:2584   .text.USB_DriveVbus:00000000 $t
     /tmp/ccgxsq1r.s:2589   .text.USB_DriveVbus:00000000 USB_DriveVbus
     /tmp/ccgxsq1r.s:2644   .text.USB_HostInit:00000000 $t
     /tmp/ccgxsq1r.s:2649   .text.USB_HostInit:00000000 USB_HostInit
     /tmp/ccgxsq1r.s:2834   .text.USB_HostInit:00000110 $d
     /tmp/ccgxsq1r.s:2841   .text.USB_GetHostSpeed:00000000 $t
     /tmp/ccgxsq1r.s:2846   .text.USB_GetHostSpeed:00000000 USB_GetHostSpeed
     /tmp/ccgxsq1r.s:2874   .text.USB_GetCurrentFrame:00000000 $t
     /tmp/ccgxsq1r.s:2879   .text.USB_GetCurrentFrame:00000000 USB_GetCurrentFrame
     /tmp/ccgxsq1r.s:2899   .text.USB_HC_Init:00000000 $t
     /tmp/ccgxsq1r.s:2904   .text.USB_HC_Init:00000000 USB_HC_Init
     /tmp/ccgxsq1r.s:2933   .text.USB_HC_Init:0000001e $d
     /tmp/ccgxsq1r.s:2937   .text.USB_HC_Init:00000022 $t
     /tmp/ccgxsq1r.s:3047   .text.USB_HC_ReadInterrupt:00000000 $t
     /tmp/ccgxsq1r.s:3052   .text.USB_HC_ReadInterrupt:00000000 USB_HC_ReadInterrupt
     /tmp/ccgxsq1r.s:3097   .text.USB_HC_Halt:00000000 $t
     /tmp/ccgxsq1r.s:3102   .text.USB_HC_Halt:00000000 USB_HC_Halt
     /tmp/ccgxsq1r.s:3368   .text.USB_DoPing:00000000 $t
     /tmp/ccgxsq1r.s:3373   .text.USB_DoPing:00000000 USB_DoPing
     /tmp/ccgxsq1r.s:3471   .text.USB_DoPing:00000074 $d
     /tmp/ccgxsq1r.s:3476   .text.USB_HC_StartXfer:00000000 $t
     /tmp/ccgxsq1r.s:3481   .text.USB_HC_StartXfer:00000000 USB_HC_StartXfer
     /tmp/ccgxsq1r.s:3795   .text.USB_HC_StartXfer:000001ec $d
     /tmp/ccgxsq1r.s:3799   .text.USB_HC_StartXfer:000001fc $t
     /tmp/ccgxsq1r.s:3890   .text.USB_HC_StartXfer:00000274 $d
     /tmp/ccgxsq1r.s:3895   .text.USB_StopHost:00000000 $t
     /tmp/ccgxsq1r.s:3900   .text.USB_StopHost:00000000 USB_StopHost
     /tmp/ccgxsq1r.s:4098   .bss.debug.7402:00000000 $d
     /tmp/ccgxsq1r.s:4102   .bss.debug.7402:00000000 debug.7402
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
HAL_Delay
